(function(a,b,d,c){function g(e,k,l){function n(a,b){g[a]=b}function m(a){function d(a){e.appendChild(a)}var e=c,f=[];m=function(a){(e=b.body)?(m=d,u(f,function(a,b){m(b)}),m(a),f=c):f.push(a)};m(a)}function o(a){function d(a){g.appendChild(a)}function e(){var a;return(a=b.getElementsByTagName("head"))&&a.length&&a[0]}function f(a){(g=e())?(u(q,function(a,b){d(b)}),q=c,d(a),o=d):q.push(a)}var g=c,q=[];f(a);o=f}function r(a,b){var c=B(arguments,2);return function(){return b.apply(a,c.concat(B(arguments)))}}
function p(a,b,c,d){function e(){var a=g.length,b=j,c,d,q,h,r;for(c=0;c<a;c++)if(d=g[c],q=d.j,r=d.d,h=d.g,d=d.i,(q=q())||(b=h&&+new Date>h))b&&d&&d(),g.splice(c,1),a--,c--,r(q);g.length||(clearInterval(f),f=0)}var f=0,g=[];p=function(a,b,c,d){g.push({d:a,g:c?c+ +new Date:0,j:b,i:d});f||(e(),g.length&&(f=setInterval(e,10)))};p(a,b,c,d)}function q(a,c,d){var e,f;e=b.createElement(a);f=e.style;c&&u(c,function(a,b){e[a]=b});f&&d&&u(d,function(a,b){f[a]=b});return e}function u(a,b){S(a,function(a,c){b(a,
c);return j})}function C(a){for(var b="Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),c=b.length,d=Object.prototype.toString,e={},f;c--;)f=b[c],e["[object "+f+"]"]=f.toLowerCase();C=function(a){return a==h?""+a:e[d.call(a)]||"object"};return C(a)}function K(a){function b(a){return"array"===C(a)}K=Array.isArray||b;return K(a)}function S(a,b){var d;d=a.length;return(d===c||"function"===C(a)?function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&b(c,a[c]))return f;return j}:function(a,
b){var c;for(c=0;c<d;c++)if(b(c,a[c]))return f;return j})(a,b)}function ea(a,b){var d=K(a)?[]:{};"function"!=typeof b&&(b=b===c?function(a,b){return!!b}:function(a,c){return c==b});u(a,function(a,c){b(a,c)&&(d[a]=c)});return d}function fa(a){return S([1,2],"function"===C(a)?a:function(b,c){return c==a})}function D(a){a.parentNode&&a.parentNode.removeChild(a)}function B(){return Function.prototype.call.apply(Array.prototype.slice,Array.prototype.slice.call(arguments))}function v(a){return(""+a).replace(/(^\s*)|(\s*$)/g,
"")}function x(a){var b;(b=y[a])||(b={id:a},F([b]));return b}function w(a,b,c){var d=x(a),e,f,g,q;if(d&&(d.a=b?6:7,d=A[a])){A[a]=h;delete A[a];for(e=d.length;e--;)f=d[e],g=f.h,q=f.d,f=f.f,c&g&&(q(b),f&&d.splice(e,1));A[a]=d}}function s(a){var b,c=x(a);c&&4==c.a&&(c.a=5,(b=U[c.c])&&b(a,c.b,function(b){w(a,b,1)}))}function t(a){var b,c,d,e,g;b=x(a);c=b.a;d=j;switch(c){case 1:b.a=2;d=j;break;case 3:b.a=4;d=f;break;case 2:case 4:case 5:d=j;break;case 6:w(a,f,2);d=j;break;case 7:w(a,j,2),d=j}d&&(b=b.e,
(e=b.length)?(g=function(){--e||s(a)},u(b,function(a,b){V(b,g,3,f);t(b)})):s(a))}function F(a){u(a,function(a,b){var c,d,e=b.id||a;if(!y[e]||fa(y[e].a)){c=y[e]||{k:e,a:1};d=c.a||1;c.c=b.type||c.c||j;c.b=b.src||c.b||j;c.e=(c.e||[]).concat(b.depends||[]);if(c.c&&c.b&&(1==d||2==d))c.a=3;y[e]=c;2==d&&3==c.a&&t(e)}})}function ga(a){u(a,function(a,b){var c,d="string"==typeof b&&b||b.id||a;if(c=y[d])c.a=1,delete y[d]})}function V(a,b,c,d){(A[a]=A[a]||[]).push({h:c||1,f:d,d:b})}function H(a,b){U[a]=b}function ha(c,
d){var e=q("div",{id:"css_"+c},{cssText:"position:absolute;top:0;left:0;visibility:hidden"});m(e);p(r(this,function(a,b){D(a);d(!!b)},e),r(this,function(c){var d=ia,e;return c.offsetHeight==d||c.currentStyle&&c.currentStyle.height==d+"px"||a.getComputedStyle&&(e=b.defaultView.getComputedStyle(c,h))&&e.getPropertyValue("height")==d+"px"},e),ja)}function ka(a){var b=j;if(a&&(a=v(a)))b=ea(a.split(" "),function(a,b){return!!v(b)});return b}function W(a){var b,c;for(b="A";a&&a.nodeName!=b;)a=a.parentNode;
if(!a)return j;b=a.href;if(!b)return j;b=L(b);if(!b)return j;(a=a.rel)&&(c=ka(a));if(!c)return j;X(b,c);return f}function L(a){return a==I||0==a.indexOf(I+"/")?a.substring(Y)||"/":j}function Z(a){var b=a.id,c=b+"[onload]",d=a.css||[],e=a.js||[],f=a.parent;f&&d.push(f);F([{id:b,type:aa,src:a,depends:d}]);M.push(b);a.onload?(e.push(b),F([{id:c,type:ba,src:a.onload,depends:e}]),M.push(c),t(c)):t(b)}function X(a,b){var c,d=J[a],f=[];ga(M);if(d){u(b,function(a,b){d[b]?Z(d[b]):f.push(b)});if(0==f.length)return;
b=f}N++;ca[N]={uri:a};c=[a,/.*\?.*/.test(a)?"&":"?",e,b?"="+b.join(l):"","&",k,"=",N].join("");switch(z){case O:case P:case da:case Q:R=q("iframe",{src:c},{display:"none"}),m(R)}z=O}var y={},U={},A={};g.setResources=F;g.loadResource=t;g.onResourceLoad=V;var E=b.createStyleSheet?[]:j,ja=3E3,ia=88;H("css",function(a,c,d){var e,f;if(E){for(f=e=E.length;f--&&!(25>E[f].imports.length););-1==f&&(E.push(b.createStyleSheet()),f=e);E[f].addImport(c)}else c=q("link",{rel:"stylesheet",type:"text/css",media:"all",
href:c}),o(c);ha(a,d)});H("js",function(a,b,c){function d(a){e.onload=h;e.onerror=h;e.onreadystatechange=h;D(e);c(a)}var e;e=q("script",{src:b,type:"text/javascript",async:f,onload:function(){d(f)},onerror:function(){d(j)},onreadystatechange:function(){e.readyState in{loaded:1,complete:1}&&d(f)}});o(e)});var aa="fragment",ba="fragment_js";H(aa,function(a,c,d){if(a=b.getElementById(c.id))a.innerHTML=c.html;d(!!a)});H(ba,function(b,c,d){u(c,function(b,c){"string"==typeof c&&""!=v(c)&&(new Function(c)).call(a)});
d(f)});var I,Y;I=[d.protocol,"//",d.host].join("");Y=I.length;L(d.href);b.documentElement.onclick=function(b){try{return b=b||a.event,!W(b.target||b.srcElement)}catch(c){}};g.triggerClick=W;L(d.href);var R,N=0,M=[],Q=0,O=1,P=2,da=3,z=Q,J={},ca={};n("sessionStart",function(){switch(z){case O:z=P}});n("fragmentArrive",function(a,b){var c;if(c=ca[a])c=c.uri,J[c]||(J[c]={}),J[c][b.id]=b;Z(b)});n("sessionEnd",function(){switch(z){case P:z=da,D(R),z=Q}});g.goURI=function(a,b){X(a,b)}}var f=!0,h=null,j=
!1;a.xAjax=g})(window,document,location);
(function(a,b){var d=a.cleanData;a.cleanData=function(b){for(var g=0,f;null!=(f=b[g]);g++)try{a(f).triggerHandler("remove")}catch(h){}d(b)};a.widget=function(b,d,f){var h=b.split("."),j=h[0],b=h[1],h=j+"-"+b;f||(f=d,d=a.Widget);a.expr[":"][h]=function(d){return!!a.data(d,"__widget__"+b)};a[j]=a[j]||{};a[j][b]=function(a,b){arguments.length&&this._createWidget(a,b)};d=new d;d.options=a.extend(!0,{},d.options);a[j][b].prototype=a.extend(!0,d,{namespace:j,widgetName:b,widgetEventPrefix:a[j][b].prototype.widgetEventPrefix||
b,widgetBaseClass:h},f);a.widget.bridge(b,a[j][b])};a.widget.bridge=function(c,d){a.fn[c]=function(f){var h="string"===typeof f,j=Array.prototype.slice.call(arguments,1),e=this,f=!h&&j.length?a.extend.apply(null,[!0,f].concat(j)):f;if(h&&"_"===f.charAt(0))return e;h?this.each(function(){var d=a.data(this,"__widget__"+c),g=d&&a.isFunction(d[f])?d[f].apply(d,j):d;if(g!==d&&g!==b)return e=g,!1}):this.each(function(){var b=a.data(this,"__widget__"+c);b?b.option(f||{})._init():a.data(this,"__widget__"+
c,new d(f,this))});return e}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,d){a.data(d,"__widget__"+this.widgetName,this);this.element=a(d);this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return this.element.data(this.widgetName)},
_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData("__widget__"+this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var f=c;if(0===arguments.length)return a.extend({},this.options);if("string"===typeof c){if(d===b)return this.options[c];f={};f[c]=d}this._setOptions(f);return this},
_setOptions:function(b){var d=this;a.each(b,function(a,b){d._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,d,f){var h,j=this.options[b],f=f||{},d=a.Event(d);d.type=(b===this.widgetEventPrefix?
b:this.widgetEventPrefix+b).toLowerCase();d.target=this.element[0];if(b=d.originalEvent)for(h in b)h in d||(d[h]=b[h]);this.element.trigger(d,f);return!(a.isFunction(j)&&!1===j.call(this.element[0],d,f)||d.isDefaultPrevented())}}})(jQuery);$.hao123={version:"0.1"};$.hao123.preventDefault=function(a){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1};$.hao123.flashCookie={wait:function(a){a(!0)}};
$.hao123.ievent={addEventListener:function(a,b){this._events[a].push(b)},removeEventListener:function(a,b){for(var d=this._events[a],c=0;c<d.length;c++)d[c]===b&&d.splice(c,1)},dispatchEvent:function(a,b){for(var d=this._events[a],c=0;c<d.length;c++)d[c](b)}};hao={vaersion:"0.1"};
(function(a,b){function d(a){function g(a){n=a;d=l;g=function(){};j(a)}function j(a){var b,c,d;b=m.length;for(c=0;c<b;c++)d=m[c],d(a)}function e(a){var b;a<o?(b=c[a],b(function(b){b?g(b):e(a+1)})):g(!1)}function k(a){m.push(a)}function l(a){setTimeout(function(){a(n)},0)}var n=b,m=[],o=c.length;d=k;k(a);setTimeout(function(){e(0)},0)}var c,g;a.widget("hao123.storage",{options:{cache:!0},_create:function(){var a=this,b=a.options;a.state=1;a.cache=[];d(function(c){c?(a.storage=c,a.state=2,b.cache&&
a._popCache(),a._trigger("ready",null,c)):(a.state=3,a._trigger("fail"))})},_popCache:function(){var a=this.cache,b=a.length,c,d,g;for(c=0;c<b;c++)d=a[c],g=d[0],d=d[1],this._valAfterReady(2,g,d)},_valCallback:function(a,c){var d;d=c.call(this.element[0],this.storage.get(a),a);d!==b&&this.storage.set(a,d)},_valBeforReady:function(a,c,d){var e=this.options,g=b;switch(a){case 0:case 1:g=null;break;default:e.cache&&this.cache.push([c,d])}return g},_valAfterReady:function(c,d,g){var e=b;switch(c){case 0:e=
null;break;case 1:e=this.storage.get(d);e===b&&(e=null);break;default:a.isFunction(g)?this._valCallback(d,g):this.storage.set(d,g)}return e},_valAfterError:function(a){var c=b;switch(a){case 0:case 1:c=null}return c},val:function(a,c){var d=b,d=arguments.length;switch(this.state){case 0:case 1:d=this._valBeforReady(d,a,c);break;case 2:d=this._valAfterReady(d,a,c);break;default:d=this._valAfterError(d,a,c)}return d}});c=[function(b){function c(){return m=m||baidu.swf.getMovie(g)}function d(a){var b,
e;(b=c())&&(e=b.call("read",[l,""+a]));return e}function e(a,b){var d;(d=c())&&d.call("write",[l,""+a,b])}var g="flashStorage",l="$hao123$",n,m;(n=baidu.swf.createHTML({id:g,url:"http://s1.hao123img.com/index/swf/LocalStorage.swf",width:"1",height:"1",allowscriptaccess:"always",ver:"9.0.0",vars:{width:1,height:1}}))?(target=[0],baidu.dom.insertHTML(a('<div style="font-size:0;line-height:0;height:1px"></div>').appendTo("body")[0],"beforeEnd",n)):b(!1);(function(a){var b,d;d=setInterval(function(){if((b=
c())&&b.flashInit&&b.flashInit())clearInterval(d),a()},50)})(function(){b({get:d,set:e})})}];a.hao123.storage.getInstance=function(){return g?g:g=a(document).storage()}})(jQuery);
$.hao123.format=function(a,b){var d=Array.prototype.slice.call(arguments,1),c=Object.prototype.toString;return d.length?(d=1==d.length?null!==b&&/\[object Array\]|\[object Object\]/.test(c.call(b))?b:d:d,a.replace(/#\{(.+?)\}/g,function(a,b){var h,j,e,k,l;if(!d)return"";h=b.split("|");j=d[h[0]];"[object Function]"==c.call(j)&&(j=j(h[0]));for(e=1,k=h.length;e<k;++e)l=$.hao123.format.filters[h[e]],"[object Function]"==c.call(l)&&(j=l(j));return"undefined"==typeof j||null===j?"":j})):a};
$.hao123.format.filters={escapeJs:function(a){if(!a||"string"!=typeof a)return a;var b,d,c,g=[];for(b=0,d=a.length;b<d;++b)c=a.charCodeAt(b),255<c?g.push(a.charAt(b)):g.push("\\x"+c.toString(16));return g.join("")},escapeString:function(a){return!a||"string"!=typeof a?a:a.replace(/["'<>\\\/`]/g,function(a){return"&#"+a.charCodeAt(0)+";"})},toInt:function(a){return parseInt(a,10)||0}};$.hao123.format.filters.js=$.hao123.format.filters.escapeJs;$.hao123.format.filters.e=$.hao123.format.filters.escapeString;
$.hao123.format.filters.i=$.hao123.format.filters.toInt;jQuery.extend({stringify:function(a){if("JSON"in window)return JSON.stringify(a);var b=typeof a;if("object"!=b||null===a)return"string"==b&&(a='"'+a+'"'),""+a;var d,c,g=[],f=a&&a.constructor==Array;for(d in a)c=a[d],b=typeof c,a.hasOwnProperty(d)&&("string"==b?c='"'+c+'"':"object"==b&&null!==c&&(c=jQuery.stringify(c)),g.push((f?"":'"'+d+'":')+(""+c)));return(f?"[":"{")+(""+g)+(f?"]":"}")}});
var shortConfig={max:5,bodyElem:$("<div class='short' id='short'></div>"),closedElem:$("<a class='short-closed' style='display:none;' href='###' title='\u6d4f\u89c8\u8fc7\u7684\u7f51\u5740' hidefocus='true'></a>"),openedElem:$("<div class='short-opened' style='display:none;' href='###'  hidefocus='true'><div class='short-head'><span class='short-title'>\u6700\u8fd1\u70b9\u8fc7</span><a class='short-close' href='###'  hidefocus='true'></a></div><ul class='short-list'></ul><div class='short-foot'><a class='short-empty' title='\u6e05\u7a7a'></a></div></div>"),
listClass:"short-list",itemTpl:'<li><a target="_blank" class="short-text" href="#{url}" #{title}>#{text}</a><a class="short-delete" title="\u5220\u9664" href="###"></a></li>',delOneClass:"short-delete",delAllClass:"short-empty",closeClass:"short-close",textClass:"short-text",footClass:"short-foot",listen:"#box-starbar,#box-erji,#layout-famoussite,#box-inner-adbar,#box-coolsite",dataKey:"short_data",animateStep:600,maxletter:10},shortModel=function(){function a(){c.storage("val",d,$.stringify(b))}
var b={isShow:!1,links:[]},d=shortConfig.dataKey,c;return{del:function(c){b.links.splice(c,1);a()},add:function(c){for(var d=0;d<b.links.length;d++)if(c.text==b.links[d].text&&c.url==b.links[d].url){b.links.splice(d,1);break}b.links.splice(0,0,c);5<b.links.length&&b.links.pop();a()},clear:function(){b={isShow:!1,links:[]};a()},setState:function(c){b.isShow=c;a()},init:function(a){var f=this;c=$.hao123.storage.getInstance();c.storage("val",d,function(c){c&&"null"!=c&&(b=$.parseJSON(c));a(f.get())})},
get:function(){return b}}}(window),shortView=function(){function a(){6==$.hao123.browser.ie&&(k.on("mouseenter","li",function(){$(this).addClass("hover")}),k.on("mouseleave","li",function(){$(this).removeClass("hover")}),$(window).scroll(b),$(window).resize(b))}function b(){h.css({top:document.documentElement.scrollTop+197})}var d=shortConfig.itemTpl,c=null,g=$.hao123.format,f=shortConfig.animateStep,h=shortConfig.bodyElem,j=shortConfig.closedElem,e=shortConfig.maxletter,k=shortConfig.openedElem;
return{init:function(b){k.appendTo(h);j.appendTo(h);h.appendTo("body");c=k.find("."+shortConfig.listClass);this.show(b);b.isShow?k.show():j.show();a();return b.isShow},getSaveItem:function(a){return{text:a.title?a.title:a.innerHTML,url:a.href}},show:function(a){c.html("");for(var b=0;b<a.links.length;b++){for(var f='title="'+(a.links[b].text.replace(/[^0-9,a-z,A-Z]/g,"aa").length>e?a.links[b].text:"")+'"',h=a.links[b].text;h.replace(/[^0-9,a-z,A-Z]/g,"aa").length>e;)h=h.substring(0,h.length-1);c.append(g(d,
{text:h,url:a.links[b].url,title:f}))}},onClosedClick:function(){j.fadeOut();k.css({height:0,width:0,opacity:0});k.show().animate({opacity:1,width:112,height:216},f)},onOpenedClick:function(){k.animate({opacity:0,width:0,height:0},f);j.fadeIn()}}}(window);
$(function(){function a(a){$.hao123.log.send($.extend({level:1,page:window.pageId,type:"short"},{fun:a}))}if("hao123-indexst16"==window.pageId){var b=shortConfig.bodyElem,d=shortConfig.closedElem,c=shortConfig.openedElem,g=shortConfig.delOneClass,f=shortConfig.delAllClass,h=shortConfig.listen,j=shortModel,e=shortView;j.init(function(b){e.init(b);a("show")});c.on("click","."+shortConfig.textClass,function(){j.add({text:this.title?this.title:this.innerHTML,url:this.href});e.show(j.get());a("click")});
c.find("."+shortConfig.closeClass).click(function(){e.onOpenedClick();j.setState(!1);a("close");return!1});d.click(function(){e.onClosedClick();j.setState(!0);a("open");return!1});$(h).on("mousedown","a",function(){!$(this).hasClass("g_more")&&!$(this).hasClass("popup-site-hinttext1-close")&&(j.add(e.getSaveItem(this)),e.show(j.get()))});b.on("click","."+g,function(){j.del($(this).index("."+g));e.show(j.get());a("del");return!1});b.on("click","."+f,function(){j.clear();e.show(j.get());a("empty");
return!1})}});
(function(a,b,d){var c=encodeURIComponent,g=decodeURIComponent,f=function(a,c,d){var d=d||{},e=Number(d.expires);e=null===c?-1:0===d.expires||e?e:365;if(0===e)e="";else{var f=new Date;f.setTime((new Date).getTime()+864E5*e);e=f.toUTCString()}d={expires:"; expires="+e,domain:"; domain="+(d.domain+""===d.domain&&""!==d.domain?d.domain:"hao123.com"),path:"; path="+(d.path+""===d.path&&""!==d.path?d.path:"/"),secure:d.secure?"; secure":""};b.cookie=a+"="+c+d.expires+d.domain+d.path+d.secure},h=function(a){return(a=
a+""===a&&""!==a?b.cookie.match("(?:^| )"+a+"(?:(?:=([^;]*))|;|$)"):null)?a[1]:a},j=function(a,b){var d=(b||"").match("(?:^|,)("+c(a)+"\\|[^,]+)");return d&&d[1]},e=function(a,b,d){return b||null===b||""===b?f(c(a),c(b),d):g(h(c(a)))};e.set=function(a,b,d){f(c(a),null);var g=h("HCD_0")||"",o=j(a,g)||"";f("HCD_0",g.replace(o,[c(a),c(b),(new Date).getTime()+864E5*(d||365)].join("|")+(g.length&&!o?",":"")),{domain:"hao123.com"});return e};e.get=function(a){var b=h(c(a));if(null!==b)return g(b);b=h("HCD_0")||
"";b=j(a,b);if(!b)return b;b=b.split("|");if(Array(b[2])>(new Date).getTime()+0)return g(b[1]);e.del(c(a));return null};e.move=function(a,b){var d=h(c(a));null!==d&&e.set(a,g(d),b||365);return e};e.del=function(a){f(c(a),null);var b=h("HCD_0")||"",a=j(a,b)||"",d=RegExp(",?"+a.replace(/\|/g,"\\|")+",?","g");a&&f("HCD_0",b.replace(d,""));return e};e.clear=function(){f("HCD_0","");return e};e.is=!!navigator.cookieEnabled;a.hao123||(a.hao123={});a.hao123[d]=e})(jQuery,document,"cookie");
$(function(){$("body").append("<a id='gotop' class='gotop' style='display:none'><span>\u56de\u9876\u90e8</span></a>");var a=$("#gotop"),b=$(window),d=$.browser.msie&&6>=$.browser.version;window.onscroll=function(){100<b.scrollTop()?(d&&(a.css({top:document.documentElement.scrollTop+document.documentElement.clientHeight-273}),a.hover(function(){a.find("span").css({"background-color":"#e5e5e8",color:"#f30"})},function(){a.find("span").css({"background-color":"#EDEDF0",color:"#498949"})})),a.fadeIn()):
a.fadeOut()};a.click(function(){b.scrollTop(0);a.hide()})});
$(function(){if(!(0>window.navigator.userAgent.toLocaleLowerCase().indexOf("bidubrowser"))&&(browser=window.location.search.match(/[?&]browser=([^&<>'"]+)/))&&"baidu"==browser[1])$("#userBar .g_fr").css({"padding-right":80}),$("#userBar").before(" <a id='baidubrowser' href='bdbrowser://tabpage/#source=hao123' target='_self' style='position:absolute;left:50%;margin-left:412px;top:6px;width:58px; font-size:12px;background:url(http://s0.hao123img.com/res/img/baidulink.png) no-repeat; padding-left:20px;line-height:18px'>\u6700\u5e38\u8bbf\u95ee</a>"),isAppended=
!0,$("#box-userbar").delegate("#baidubrowser","mousedown",function(){$.hao123.log.send({level:1,page:window.pageId,type:"baidubrowser"})})});$(function(){function a(a){(a=$.hao123.cookie.get(a))&&32<a.length&&(a=a.substring(0,32));return a}var b=$.hao123.log.conf.data;$.hao123.log.conf.data={};$.hao123.log.send({v:"rpidmapping",pid:113,hao123_baiduid:a("BAIDUID"),url:"http://nsclick.baidu.com/h.gif",hao123_flashid:a("FLASHID")});$.hao123.log.conf.data=b});
hao.uvfix=function(a,b){function d(){var a,c,d=["3w.hao123.com","ww.hao123.com","www.hao123.com","hao123.com"];for(a=d.length;a--;)c=d[a],d.push(c+"/","http://"+c,"http://"+c+"/");d.push(document.URL);for(a=d.length;a--;){c=d[a];var f;a:{var g=c;try{j||(j=document.createElement("div"),j.style.display="none",j.style.behavior="url(#default#homePage)",document.body.appendChild(j));f=j.isHomePage(g);break a}catch(h){}f=b}if(f)return c}return!1}function c(b,c){var d=f,j=b||"null",m=[],o=new Date;o.setTime(+o+
h);m.push(d,"=",encodeURIComponent(j),"; path=/;"," expires=",o.toGMTString(),"; domain=hao123.com");document.cookie=m.join("");a.hao123.storage.getInstance().storage("val",f,b).storage("val",g,c)}var g="REFLAT",f="REF",h=2592E5,j=!1;return function(){var b,j;a.browser.msie&&(b=a.hao123.storage.getInstance(),j=+new Date,b.storage("val",f,function(a){a?b.storage("val",g,function(b){b&&j-b>h&&(a=d());c(a,j)}):(a=d())&&c(a,j)}))}}(jQuery);
(function(a,b){var d;a.widget("hao123.localcookie",a.hao123.storage,{options:{localKey:"FLASHID",cookieKey:"BAIDUID"},_create:function(){var b=this;b.readyState=0;b.callbackList=[];b.element.bind("localcookieready",function(){b.readyState=1;b._calllback(!0)}).bind("localcookiefail",function(){b.readyState=2;b._calllback(!1)});a.hao123.storage.prototype._create.call(this)},_calllback:function(a){var b,d,h;for(h=0,d=this.callbackList.length;h<d;h++)b=this.callbackList[h],b(a)},_init:function(){var a=
this,d=a.options;a.val(d.localKey,function(f){var h;if(f)return h=a.cookie(d.localKey),f!=h&&a.cookie(d.localKey,f),b;h=a.cookie(d.cookieKey);a.cookie(d.localKey,h);return h})},cookie:function(a,d){var f=b,h,j;switch(arguments.length){case 0:break;case 1:f=(d=RegExp("(^| )"+a+"=([^;]*)(;|$)").exec(document.cookie))?d[2]:null;break;default:j=[],h=new Date,h.setTime(+h+31536E6),j.push(a,"=",d,"; path=/;"," expires=",h.toGMTString(),"; domain=hao123.com"),document.cookie=j.join("")}return f},wait:function(a,
d){var f=!1;switch(this.readyState){case 0:this.callbackList.push(function(b){!1!==f&&(!0!==f&&clearTimeout(f),a(b))});f=d!==b?setTimeout(function(){f=!1;a(!1)},d):!0;break;case 1:setTimeout(function(){a(!0)},0);break;default:setTimeout(function(){a(!1)},0)}}});a.hao123.localcookie.getInstance=function(){return d?d:d=a(document).localcookie()}})(jQuery);
$.hao123.initProfile=function(){var a=!0;if(1!=isStatic){for(obj in currentProfile)if(currentProfile[obj]!=defaultProfile[obj]){a=!1;break}if(a&&!HLogin.loginModel.isLogin)$.hao123.cookie("static",1);else try{$.hao123.cookie.del("static")}catch(b){}}};
$.hao123.setProfile=function(a,b){var d=!0,c="http://www.hao123.com/api/setprof?";if(1!=isStatic&&defaultProfile[a]&&!(currentProfile[a]&&currentProfile[a]==b)){currentProfile[a]=b;for(obj in currentProfile)if(currentProfile[obj]!=defaultProfile[obj]){d=!1;break}if(d&&!HLogin.loginModel.isLogin)$.hao123.cookie("static",1);else try{$.hao123.cookie.del("static")}catch(g){}c+="c="+function(){var a="",a=!$.hao123.cookie("FLASHID")||32>$.hao123.cookie("FLASHID").length?$.hao123.cookie("BAIDUID"):$.hao123.cookie("FLASHID");
return a.substr(0,32)}()+"&key="+(new Date).getTime()+"&k="+encodeURIComponent(a)+"&v="+encodeURIComponent(b);$.ajax({type:"GET",url:c,dataType:"json",success:function(){},error:function(){$.hao123.cookie.del("static")}})}};
$.hao123.getProfile=function(){var a;a="http://www.hao123.com/api/getprof?"+("c="+function(){var a="",a=!$.hao123.cookie("FLASHID")||32>$.hao123.cookie("FLASHID").length?$.hao123.cookie("BAIDUID"):$.hao123.cookie("FLASHID");return a.substr(0,32)}()+"&key="+(new Date).getTime());$.ajax({type:"GET",url:a,dataType:"json",success:function(a){currentProfile=a.data.profile;$(document).trigger("getprof",a.data)},error:function(){alert("error")}})};
(function(a,b,d){String.trim||(String.prototype.trim=function(){var a;a=this.replace(/^\s\s*/,"");for(var b=/\s/,d=a.length;b.test(a.charAt(--d)););return a.slice(0,d+1)});String.replaceTpl||(String.prototype.replaceTpl=function(a){return this.replace(/#\{([^}]*)\}/mg,function(b,d){return a[d.trim()]})});String.htmlEncode||(String.prototype.htmlEncode=function(){return(""+this).replace(/\x26/g,"&amp;").replace(/\x3c/g,"&lt;").replace(/\x3E/g,"&gt;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;").replace(/\xA9/g,
"&copy;")});var c=document.documentElement.classList!==d,g=/\w/.test("\u0130"),f=b.documentMode&&9===b.documentMode,h=function(a){if(a){var a=a.split("."),b=a.length,d=window,c=0,e;if(1<b)for(;c<b-1;c++)e=a[c],d=0===c&&d[e]?d[e]:e in d?d[e]:d[e]={};return d}},j=c?function(a,b){return a.classList.contains(b)}:function(a,b){return-1<(" "+a.className+" ").indexOf(" "+b+" ")},e=c?function(a,b){a.classList.add(b)}:function(a,b){j(a,b)||(a.className+=(a.className?" ":"")+b)},k=c?function(a,b){a.classList.remove(b)}:
function(a,b){j(a,b)&&(a.className=a.className.replace(RegExp("(\\s|^)"+b+"(\\s|$)")," "))},l=b.addEventListener?function(a,b,d){a.addEventListener(b,d,!1)}:function(a,b,d){a.attachEvent("on"+b,d)},n=function(b,d,c){l(b,d,function(b){b=b||a.event;c.call(b.srcElement||b.target,b)})},m=g?function(a,b){b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()});return a.currentStyle[b]}:function(a,d){return b.defaultView.getComputedStyle(a,null).getPropertyValue(d)},o=function(a,c){if(!(this instanceof
o))return new o(a,c);if(this.el=a+""===a?b.getElementById(a):a)this.o={classNameWrap:c.classNameWrap||"sug-wrap",classNameQuery:c.classNameQuery,classNameQueryNull:c.classNameQueryNull,classNameSelect:c.classNameSelect||"sug-select",classNameClose:c.classNameClose||"sug-close",classNameShim:c.classNameShim||"sug-shim",locAbs:c.locAbs||!1,pressDelay:c.pressDelay===d?3:c.pressDelay,autoFocus:c.autoFocus||!1,delay:c.delay||200,n:c.n||10,t:c.t||!0,autoCompleteData:c.autoCompleteData||!1,url:c.url||!1,
charset:c.charset,callbackFn:c.callbackFn||!1,callbackName:c.callbackName||!1,callbackDataKey:c.callbackDataKey||!1,callbackDataNum:c.callbackDataNum||!1,requestQuery:c.requestQuery||!1,requestParas:c.requestParas||{},noSubmit:c.noSubmit||!1,onSelect:c.onSelect,onMouseSelect:c.onMouseSelect,onShow:c.onShow,onHide:c.onHide,onRequest:c.onRequest,onSucess:c.onSucess,onError:c.onError,onEnable:c.onEnable,customUrl:c.customUrl||!1,templ:c.templ||!1},this.wrap=this.el.parentNode,this.init()},c=o.prototype;
c.init=function(){var a=this,b=a.o;a.layoutInit();a.reset();a.inputHandle();b.autoFocus&&setTimeout(function(){a.el.focus()},16);if(!b.autoCompleteData){var c=b.callbackFn,b=h(c,!0),d=c.split(".").pop();a.callback=function(b){b=b||{};$.hao123.sugFlag=b.z?!0:!1;var d=arguments.callee;a=c&&d.repeat?d.context||a:a;a.o.onSucess&&a.o.onSucess.call(a);d=(d=a.o.callbackDataKey||a.o.callbackDataNum)?b[d]:b;if(!d||!d.length)if(!b||!b.z||0>b.z.length){a.hide(1);a.isHide=!1;return}a.fill(b,a.q);a.show();a.cache[a.q]=
b};b[d]?b[d].repeat=!0:c&&(b[d]=a.callback)}};c.reset=function(a){for(var b in a)this.o[b]=a[b];this.cache={};this.q="";this.s=null;this.subType=this.i=-1;this.inputTimer();this.isHide=!1;this.hide(1)};c.layoutInit=function(){var a=this.o,c=a.locAbs?b.body:this.wrap,d=this.sugWrap=b.createElement("div");this.el.setAttribute("autocomplete","off");this.content=d;e(d,a.classNameWrap);!a.locAbs&&"static"===m(c,"position")&&(c.style.position="relative");c.appendChild(d)};c.show=function(){this.sugWrap.style.display=
"";this.o.onShow&&this.o.onShow.call(this)};c.hide=function(a){this.sugWrap.style.display="none";this.q=this.el.value;2!=a&&(this.s=null,this.i=-1);1==a&&this.fill();this.o.onHide&&this.o.onHide.call(this)};c.holdFocus=function(b,c){c.preventDefault?c.preventDefault():b.onbeforedeactivate=function(){a.event.returnValue=!1;b.onbeforedeactivate=null}};c.inputTimer=function(a){var b=this,c=b.el,d=b.t,e;a?d||(b.t=setInterval(function(){e=c.value;if(!b.o.onEnable||b.o.onEnable(b.el))e.trim()?e!==b.q&&
b.updata(e):(b.hide(1),b.q=e)},b.o.delay)):(d&&clearInterval(b.t),b.t=0)};c.getIndex=function(a,b){for(var c=b.length;c--;)if(b[c]===a)return c;return-1};c.matchEl=function(a,b,c){for(;a!==b;){if(c.call(a))return a;a=a.parentNode}return null};c.submitForm=function(){var a=this.el.form;if(a.onsubmit)a.onsubmit();else a.submit()};c.keydownMove=function(a){var b=this.sugWrap.getElementsByTagName("OL")[0];if(b)if(this.isHide)this.isHide=!1;else{var c=b.getElementsByTagName("LI"),f=c.length,b=this.el,
g=this.s,h=this.o,j=h.classNameSelect,n=this.q||"";g&&(k(g,j),this.i=this.getIndex(g,c),this.s=null);this.i===d&&(this.index=-1);-1!==this.i&&k(c[this.i],j);40===a?this.i++:38===a&&this.i--; -2===this.i?this.i=f-1:this.i===f?(b.value=n,this.i=-1):-1===this.i&&(b.value=n);-1!==this.i&&this.i!==f&&(a=c[this.i],e(a,j),!h.autoCompleteData&&(b.value=a.getAttribute("q")),this.s=a)}};c.inputHandle=function(){var a=this,b=a.o,c=a.el,d=a.sugWrap,f=b.classNameSelect,h=b.autoCompleteData,m=0,o;c.onkeydown=function(e){e=
e||window.event;o=e.keyCode;if(27===o)return a.hide(2),d.getElementsByTagName("ol")[0]&&(a.isHide=!0),!h&&(c.value=a.q),a.inputTimer(),!1;if(32<o&&41>o)if(!c.value&&"none"===d.style.display)c.blur();else{if((40===o||38===o)&&(!a.o.onEnable||a.o.onEnable(a.el)))!b.pressDelay||0===m++?(a.isHide&&a.show(),a.keydownMove(o),a.inputTimer()):m===b.pressDelay&&(m=0),!g&&e.preventDefault()}else if(13===o){a.inputTimer();a.hide(2);b.onSelect&&b.onSelect.call(a,a.q,a.s?a.s.getAttribute("site"):"");if(h)return c.value=
a.s?a.s.getAttribute("q"):"",!1;a.subType=2;if(b.noSubmit)return!1;var e=d.getElementsByTagName("LI")[0],f=e.getAttribute("class")||e.className,j=document.getElementById("js_sug-form1"),n=document.getElementById("js_sug-params");if(e&&e.getAttribute("action")&&-1<f.indexOf("sug-select"))return j.setAttribute("action",e.getAttribute("action").split("|")[1]),a.lastWord=j.word.value,a.lastParamers=n.innerHTML,j.word.value="hao123",n.innerHTML="",window.setTimeout(function(){j.setAttribute("action","http://www.baidu.com/s");
j.word.value=a.lastWord;n.innerHTML=a.lastParamers},150),!0}else 8<o&&19>o?9!==o&&a.holdFocus(c,e):a.inputTimer(1)};l(c,"keyup",function(){m=0});l(c,"blur",function(){a.hide(2);d.getElementsByTagName("ol")[0]&&(a.isHide=!0);a.inputTimer()});n(d,"mouseover",function(){var b=a.matchEl(this,d,function(){return"LI"===this.tagName});b&&(a.s&&k(a.s,f),e(b,f),a.s=b)});n(d,"mouseout",function(){var b=a.matchEl(this,d,function(){return"LI"===this.tagName});"LI"===this.tagName&&this!==b&&k(b,f)});l(d,"mousedown",
function(b){a.inputTimer();a.holdFocus(c,b)});n(d,"mouseup",function(e){a.subType=3;var f=d.getElementsByTagName("OL")[0];if(f&&!(e.which&&2<e.which||e.button&&1!==e.button&&4!==e.button))if(j(this,b.classNameClose)&&a.hide(),e=a.matchEl(this,d,function(){return"LI"===this.tagName}))c.value=e.getAttribute("q"),a.hide(),a.inputTimer(),a.i=a.getIndex(e,f.getElementsByTagName("LI")),b.onSelect&&b.onSelect.call(a,e.getAttribute("q"),e.getAttribute("site")),b.onMouseSelect&&b.onMouseSelect.call(a,e.getAttribute("q"),
e.getAttribute("site")),e.getAttribute("action")||!b.autoCompleteData&&!b.noSubmit&&a.submitForm()})};c.fill=function(a,b){var c=this.content,e=!1;if(2>arguments.length)c.innerHTML="";else{a&&a.z&&a.z[0]&&(e=a.z[0]);var f=this.o,g=f.templ,h=f.classNameQueryNull,j=f.classNameQuery,c=this.content;if(g)e=g.call(this,a,b);else{var a=a[f.callbackDataKey||f.callbackDataNum]||[],g=0,f=Math.min(a.length,f.n),n=[],m,b=b.trim();(2==e.type||1==e.type)&&e?(m=e.key,e.id&&(this.o.sugId=e.id),e.word_add?m!==d&&
n.push('<li  q="'+m+'"'+(h&&-1<m.indexOf(b)?' class="li-aladdin':' class="li-aladdin '+h)+'"><img src="http://s1.hao123img.com/index/images/xiongzhang.png">'+m+(2==e.type?" - \u767e\u5ea6\u5b89\u5168\u8ba4\u8bc1":"")+'<span class="sug-word">'+e.word+'<span class="sug-word-add">('+e.word_add+")</span></span></li>"):m!==d&&n.push('<li  q="'+m+'"'+(h&&-1<m.indexOf(b)?' class="li-aladdin':' class="li-aladdin '+h)+'"><img src="http://s1.hao123img.com/index/images/xiongzhang.png">'+m+(2==e.type?" - \u767e\u5ea6\u5b89\u5168\u8ba4\u8bc1":
"")+'<span class="sug-word">'+e.word+"</span></li>"),g=1):g=0;for(;g<f;g++)m=a[g],m!==d&&n.push('<li q="'+m+'"'+(h&&-1<m.indexOf(b)?"":" class="+h)+">"+(j?m.replace(b,'<span class="'+j+'">'+b+"</span>"):m)+"</li>");e="<ol>"+n.join("")+"</ol>"}c.innerHTML=e}};c.updata=function(a){var b=this.o.autoCompleteData||this.cache[a];this.q=a;this.i=-1;this.isHide=!1;b!==d?(this.fill(b,a),this.show()):this.request(a)};c.request=function(a){var c=this,e=c.o,j=e.callbackFn,m=e.callbackName,n=e.onSucess,k=e.onError,
l=e.onRequest,o=c.callback,D=e.url,B=e.customUrl,v=e.requestParas,x=[],w,s;if(j){var t=h(j),j=j.split(".").pop();t[j]=c.callback;t[j].repeat&&(t[j].context=c)}else m&&(s=c.script,s.readyState?s.onreadystatechange=function(){if("loaded"==s.readyState||"complete"==s.readyState)s.onreadystatechange=null,n&&n.call(c),o(m)}:s.onload=function(){n&&n.call(c);o(m)});k&&(c.script.onerror=function(){k.call(c)});if(!c.script||!g||f)t=b.getElementsByTagName("script")[0],s=b.createElement("script"),s.type="text/javascript",
s.async=!0,c.script?t.parentNode.replaceChild(s,c.script):t.parentNode.insertBefore(s,t),c.script=s;l&&l.call(this);for(w in v)(s=v[w])!==d&&x.push(w+"="+v[w]);e.t&&x.push("t="+ +new Date);v=x.join("&");c.script.charset=e.charset?e.charset:"";c.script.src=B&&B.call(c,v)||D+"?"+e.requestQuery+"="+encodeURIComponent(a)+"&"+v};a.G||(a.G={});G.suggest=G.sug=o})(window,document);
var HLogin={g:function(a){return document.getElementById(a)},extend:function(a,b,d){var a=a||{},c;for(c in b)d?a[c]=b[c]:a.hasOwnProperty(c)||(a[c]=b[c]);return a},addClass:function(a,b){var b=b.trim(),d=a.className.split(/\s+/);d.push(b);a.className=d.join(" ")},removeClass:function(a,b){for(var d=a.className.split(/\s+/),c=0;c<d.length;c++)b==d[c]&&d.splice(c,1);a.className=d.join(" ")},ievent:{addEventListener:function(a,b){this._events[a].push(b)},removeEventListener:function(a,b){for(var d=this._events[a],
c=0;c<d.length;c++)d[c]===b&&d.splice(c,1)},dispatchEvent:function(a,b){for(var d=this._events[a],c=0;c<d.length;c++)d[c](b)}},format:function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{\d}/g,function(a){a=a.charAt(1);return b[a]})},imageRequest:function(a,b){var d="imageRequest"+(new Date).getTime(),c=new Image;window[d]=c;c.onload=function(){window[d]=null;b("success")};c.onerror=function(){window[d]=null;b("error")};c.src=a}};
HLogin.loginConfig={passUrl:"http://passport.baidu.com/v2/api/?getapi&class=login&tpl=hao123&tangram=true&callback=loginCallback",outerDomId:"popup-login",loginType:1,staticpage:"http://"+window.location.host+"/jump.htm",tpl:"hao123",phoneText:"\u624b\u673a\u53f7",userNameText:"\u5e10\u3000\u53f7",userNameTextShort:"\u5e10\u53f7",passWordText:"\u5bc6\u3000\u7801",passWordText1:"\u5bc6\u3000\u7801",passWordTextShort:"\u5bc6\u7801",veryfyCodeText:"\u9a8c\u8bc1\u7801",errorText6:"\u9a8c\u8bc1\u7801\u4e0d\u5339\u914d\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",
errorText4:"\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef\uff01",errorText1:"\u7528\u6237\u540d\u683c\u5f0f\u9519\u8bef",errorText2:"\u6b64\u5e10\u53f7\u4e0d\u5b58\u5728",errorText3:"\u624b\u673a\u53f7\u4e0d\u6b63\u786e",errorText110024:'\u6b64\u5e10\u53f7\u8fd8\u672a\u6fc0\u6d3b\uff0c\u8bf7\u5230\u9a8c\u8bc1\u90ae\u4ef6\u4e2d\u6fc0\u6d3b\uff0c\u6216\u8005<a href="{0}">\u91cd\u53d1\u9a8c\u8bc1\u90ae\u4ef6</a>',errorText00:"\u7cfb\u7edf\u9519\u8bef",errorText01:"\u8bf7\u8f93\u5165{0}",veryfyEmailBack:"http://www.hao123.com/",
cookieUrl:"http://hao123.baidu.com/static/getcookie.php?noredirect=1",signoutTpl:'<a href="{0}" class="{1}" target="_self">\u767b\u5f55</a><a target="_self" class="{2}" href="http://'+window.location.host+'/registe.htm">\u6ce8\u518c</a>',signinTpl:'<span class="{2}">\u60a8\u597d\uff0c</span><span class="{3}">{0}</span><a class="{4}" target="_self" href="http://www.hao123.com/api/logout?gotourl={1}">\u9000\u51fa</a>',getUserUrl:"http://www.hao123.com/api/user?key=100&c={0}",loginUrl:"http://www.hao123.com/login.htm?gotourl={0}"};
HLogin.loginModel=function(a,b){return b.extend({_events:{signin:[],otherSignin:[]},isLogin:!1,signin:function(a){this.isLogin=!0;this.dispatchEvent("signin",a)},otherSignin:function(a){this.dispatchEvent("otherSignin",a)}},b.ievent)}(this,HLogin);
HLogin.loginView=function(a,b){var d=HLogin.loginConfig;return{onCommonReady:function(){b.g("pass_login_input_submit_0").value="";b.g("pass_login_label_username_0").innerHTML=d.userNameText;b.g("pass_login_label_password_0").innerHTML=d.passWordText;b.g("pass_login_label_verifycode_0").innerHTML=d.veryfyCodeText;b.g("pass_login_username_0").onfocus=b.g("pass_login_password_0").onfocus=b.g("pass_login_verifycode_0").onfocusin=function(){b.removeClass(this,"login_input_err");b.addClass(this,"login_input_focus")};
b.g("pass_login_username_0").onblur=b.g("pass_login_password_0").onblur=b.g("pass_login_verifycode_0").onfocusout=function(){b.removeClass(this,"login_input_focus")}},onPhoneReady:function(){$("#login_tab_1").click(function(){$("#login_holder_1").show();$("#login_holder_2").hide();this.className="curr";$("#login_tab_2").attr("class","");$("#pass_login_phoneNumber_1").removeClass("login_input_err");$("#errHolder").html("");$("#pass_login_password_1").removeClass("login_input_err")});$("#login_tab_2").click(function(){$("#login_holder_2").show();
$("#login_holder_1").hide();this.className="curr";$("#login_tab_1").attr("class","");$("#pass_login_username_0").removeClass("login_input_err");$("#errHolder").html("");$("#pass_login_password_0").removeClass("login_input_err")});b.g("pass_login_username_0").focus();b.g("pass_login_input_submit_1").value="";b.g("pass_login_label_phoneNumber_1").innerHTML=d.phoneText;b.g("pass_login_label_password_1").innerHTML=d.passWordText1;b.g("pass_login_label_verifycode_1").innerHTML=d.veryfyCodeText;b.g("pass_login_phoneNumber_1").onfocus=
b.g("pass_login_password_1").onfocus=b.g("pass_login_verifycode_1").onfocus=function(){b.removeClass(this,"login_input_err");b.addClass(this,"login_input_focus")};b.g("pass_login_phoneNumber_1").onblur=b.g("pass_login_password_1").onblur=b.g("pass_login_verifycode_1").onfocus=function(){b.removeClass(this,"login_input_focus")}},onLoginSuccess:function(a){b.imageRequest(("curr"==b.g("login_tab_1").className?b.g("pass_login_rem_0"):b.g("pass_login_rem_1")).checked?"http://hao123.baidu.com/static/getcookie.php?noredirect=1&is_remember=1":
"http://hao123.baidu.com/static/getcookie.php?noredirect=1",function(){a&&a()})},onInputErr:function(a,g){b.addClass(a,"login_input_err");var f=b.g("errHolder");f.style.display="block";switch(g){case "-2":f.innerHTML=b.format(d.errorText01,-1<a.id.indexOf("username")?d.userNameTextShort:-1<a.id.indexOf("phoneNumber")?d.phoneText:-1<a.id.indexOf("password")?d.passWordTextShort:d.veryfyCodeText);break;case "6":f.innerHTML=d.errorText6;break;case "4":f.innerHTML=d.errorText4;break;case "1":f.innerHTML=
d.errorText1;break;case "2":f.innerHTML=d.errorText2;break;case "-3":f.innerHTML=d.errorText3}},onSystemErr:function(a,g,f){"110024"==g?(a=b.format("https://passport.baidu.com/v2/?regnotify&needresend=true&tpl=hao123&user={0}",f.mail),b.g("errHolder").innerHTML=b.format(d.errorText110024,a)):b.g("errHolder").innerHTML=d.errorText00}}}(this,HLogin);
(function(a,b){a.hao123||(a.hao123={});a.hao123[b]={url:"/images/track.gif",send:function(b){var c={},g=b.url=b.url||this.url,f=b.r=+new Date,h=a.hao123["Model.Global.UT"+f]=new Image,j=[];a.extend(c,a.hao123.log.conf.data,b);a.each(c,function(a,b){"url"!=a&&j.push(encodeURIComponent(a)+"="+encodeURIComponent(b))});h.onload=h.onerror=function(){a.hao123["Model.Global.UT"+f]=null};h.src=g+"?"+j.join("&");h=j=null},heartbeat:function(d,c){function g(){var c={};a.each(d,function(b,d){c[b]=a.isFunction(d)?
d():d});a.hao123[b].send(c);f()}function f(){h++;setTimeout(g,a.isFunction(c)?c(h):c)}var h=0;f()}}})(jQuery,"log");var T,baidu=T=baidu||{version:"1.5.2.2"};baidu.guid="$BAIDU$";baidu.$$=window[baidu.guid]=window[baidu.guid]||{global:{}};baidu.dom=baidu.dom||{};baidu.dom.g=function(a){return!a?null:"string"==typeof a||a instanceof String?document.getElementById(a):a.nodeName&&(1==a.nodeType||9==a.nodeType)?a:null};baidu.g=baidu.G=baidu.dom.g;baidu.browser=baidu.browser||{};
baidu.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0;
baidu.dom.insertHTML=function(a,b,d){var a=baidu.dom.g(a),c;a.insertAdjacentHTML&&!baidu.browser.opera?a.insertAdjacentHTML(b,d):(c=a.ownerDocument.createRange(),b=b.toUpperCase(),"AFTERBEGIN"==b||"BEFOREEND"==b?(c.selectNodeContents(a),c.collapse("AFTERBEGIN"==b)):(b="BEFOREBEGIN"==b,c[b?"setStartBefore":"setEndAfter"](a),c.collapse(b)),c.insertNode(c.createContextualFragment(d)));return a};baidu.insertHTML=baidu.dom.insertHTML;baidu.swf=baidu.swf||{};
baidu.swf.version=function(){var a=navigator;if(a.plugins&&a.mimeTypes.length){var b=a.plugins["Shockwave Flash"];if(b&&b.description)return b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}else if(window.ActiveXObject&&!window.opera)for(a=12;2<=a;a--)try{if(b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a))return b.GetVariable("$version").replace(/WIN/g,"").replace(/,/g,".")}catch(d){}}();baidu.string=baidu.string||{};
baidu.string.encodeHTML=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};baidu.encodeHTML=baidu.string.encodeHTML;
baidu.swf.createHTML=function(a){var a=a||{},b=baidu.swf.version,d=a.ver||"6.0.0",c,g,f,h;f={};var j=baidu.string.encodeHTML;for(h in a)f[h]=a[h];a=f;if(b){b=b.split(".");d=d.split(".");for(f=0;3>f&&!(c=parseInt(b[f],10),g=parseInt(d[f],10),g<c);f++)if(g>c)return""}else return"";f=a.vars;d="classid,codebase,id,width,height,align".split(",");a.align=a.align||"middle";a.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";a.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";
a.movie=a.url||"";delete a.vars;delete a.url;if("string"==typeof f)a.flashvars=f;else{c=[];for(h in f)b=f[h],c.push(h+"="+encodeURIComponent(b));a.flashvars=c.join("&")}c=["<object "];for(f=0,g=d.length;f<g;f++)b=d[f],c.push(" ",b,'="',j(a[b]),'"');c.push(">");f={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(h in a)b=a[h],h=h.toLowerCase(),f[h]&&
(b||!1===b||0===b)&&c.push('<param name="'+h+'" value="'+j(b)+'" />');a.src=a.movie;a.name=a.id;delete a.id;delete a.movie;delete a.classid;delete a.codebase;a.type="application/x-shockwave-flash";a.pluginspage="http://www.macromedia.com/go/getflashplayer";c.push("<embed");var e;for(h in a)if((b=a[h])||!1===b||0===b)/^salign$/i.test(h)?e=b:c.push(" ",h,'="',j(b),'"');e&&c.push(' salign="',j(e),'"');c.push("></embed></object>");return c.join("")};
baidu.swf.create=function(a,b){var a=a||{},d=baidu.swf.createHTML(a)||a.errorMessage||"";b&&"string"==typeof b&&(b=document.getElementById(b));baidu.dom.insertHTML(b||document.body,"beforeEnd",d)};baidu.browser.ie=baidu.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0;baidu.array=baidu.array||{};baidu.array.remove=function(a,b){for(var d=a.length;d--;)d in a&&a[d]===b&&a.splice(d,1);return a};baidu.lang=baidu.lang||{};
baidu.lang.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)};baidu.lang.isFunction=function(a){return"[object Function]"==Object.prototype.toString.call(a)};baidu.lang.toArray=function(a){if(null===a||void 0===a)return[];if(baidu.lang.isArray(a))return a;if("number"!==typeof a.length||"string"===typeof a||baidu.lang.isFunction(a))return[a];if(a.item){for(var b=a.length,d=Array(b);b--;)d[b]=a[b];return d}return[].slice.call(a)};
baidu.swf.getMovie=function(a){var b=document[a],d;return 9==baidu.browser.ie?b&&b.length?1==(d=baidu.array.remove(baidu.lang.toArray(b),function(a){return"embed"!=a.tagName.toLowerCase()})).length?d[0]:d:b:b||window[a]};T.undope=!0;
$.hao123.browser=function(){var a=window,b=document,d=navigator,c=d.userAgent.toLowerCase(),g=function(a){return(a=c.match(RegExp(a+"\\b[ \\/]?([\\w\\.]*)","i")))?a.slice(1):["",""]},f=function(){var b=-1<c.indexOf("360chrome")?!0:!1,d;try{a.external&&a.external.twGetRunPath&&(d=a.external.twGetRunPath)&&-1<d.indexOf("360se")&&(b=!0)}catch(e){b=!1}return b}(),h;a:{try{if(/(\d+\.\d)/.test(a.external.max_version)){h=parseFloat(RegExp.$1);break a}}catch(j){}h=void 0}var e=g("(msie|safari|firefox|chrome|opera)"),
k=g("(maxthon|360se|360chrome|theworld|se|theworld|greenbrowser|qqbrowser|lbbrowser)"),l=g("(windows nt|macintosh|solaris|linux)"),n=g("(webkit|gecko|like gecko)");"msie"===e[0]?f?k=["360se",""]:h?k=["maxthon",h]:","==k&&(k=g("(tencenttraveler)")):"safari"===e[0]&&(e[1]=g("version")+"."+e[1]);return{cookieEnabled:navigator.cookieEnabled,flash:function(){if(d.plugins&&d.mimeTypes.length){var b=d.plugins["Shockwave Flash"];if(b&&b.description)return b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,
".")+".0"}else if(a.ActiveXObject&&!a.opera)for(b=12;2<=b;b--)try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b);if(c)return c.GetVariable("$version").replace(/WIN/g,"").replace(/,/g,".")}catch(e){}}(),isStrict:"CSS1Compat"==b.compatMode,isShell:!!k[0],shell:k,kernel:n,platform:l,types:e,chrome:"chrome"==e[0]&&e[1],firefox:"firefox"==e[0]&&e[1],ie:"msie"==e[0]&&e[1],opera:"opera"==e[0]&&e[1],safari:"safari"==e[0]&&e[1],maxthon:"maxthon"==k[0]&&k[1],isTT:"tencenttraveler"==k[0]&&k[1],
is360:f}}();
(function(a){a.widget("hao123.sitelinks",{options:{},_create:function(){this._render();this._bindEvent()},_render:function(){var b=this.element;this.$bgbox=a(".js_bgbox",b);this.$openup=a(".js_openup",b);this.$sites=a(".js_bgbox a",b);a.browser.msie&&"6.0"==a.browser.version&&!a.support.style&&this._setWidth(this.$bgbox.width()-16)},_setWidth:function(a){this.$sites.width(a)},_bindEvent:function(){var a=this;a.$bgbox.hover(function(){clearTimeout(a.hideTimer)},function(){clearTimeout(a.showTimer);a.hideTimer=
setTimeout(function(){a._hide()},300)});a.$openup.hover(function(){clearTimeout(a.hideTimer);a.showTimer=setTimeout(function(){a._show()},300)},function(){clearTimeout(a.showTimer);a.hideTimer=setTimeout(function(){a._hide()},300)});a.$sites.bind("click",function(){a._hide()})},_hide:function(){a(this.element).css("z-index","0");this.$bgbox.hide()},_show:function(){a(this.element).css("z-index","90");this.$bgbox.show()},destroy:function(){a.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(){hao.toolsite=function(){$("#box-tools .js_toolsitegroup").sitelinks();$(document).bind("intoshow",function(){$("#box-tools .js_bottom-item").each(function(a,b){$(b).addClass("bg")});$("#box-tools .js_game-img a").each(function(a,b){b.children[0].src=b.getAttribute("data-imgurl")})})}})();$(function(){$("#js_form2").submit(function(){$.hao123.log.send({level:1,page:window.pageId,type:"bsearchclick"})})});
(function(){$(document).bind("intoshow",function(){function a(){$("#funnynew-loading").fadeOut()}$("#box-funnynew  .js_funnynew-detail").each(function(a,b){var g=b.innerHTML;34<g.length&&(b.innerHTML=g.substring(0,33)+"...")});var b=document.getElementById("funnynew-iframe");b.attachEvent?b.attachEvent("onload",function(){a()}):b.onload=function(){a()};$("iframe","#box-funnynew").each(function(a,b){$(b).attr("src",$(b).attr("data-url")+"?r="+(new Date).getTime()+"#top/new")});$("img","#box-funnynew").each(function(a,
b){$(b).attr("src",$(b).attr("data-url"))});$("#box-funnynew .funnynew-link a").mousedown(function(){var a=$.hao123.cookie.get("FLASHID")||$.hao123.cookie.get("BAIDUID");32<a.length&&(a=a.substring(0,32));$.hao123.log.send({url:"http://www.hao123.com/api/incr",link:this.href,c:a})})})})();
(function(){hao.surprise=function(a){var b=$(a||"#box-surprise"),a=$(".ws-prev",b),d=$(".ws-next",b),c=$(".ws-items",b),g=$("img",b),f=1,h=Math.ceil(g.length/5)/2,j=$(".ws-box",b).width()+28,e=function(){var a=$(document).scrollTop(),c=$(window).height(),d=b.offset().top;a+c>d-10&&($(document).trigger("intoshow"),g.each(function(){$(this).attr("src",$(this).attr("imgurl"))}),$(window).unbind("scroll",e),$(window).unbind("resize",e))};$(window).scroll(e);$(window).resize(e);a.click(function(){c.is(":animated")||
(1==f?(c.css({left:-(890*h)}),c.animate({left:"+="+1*j},800),f=h):(c.animate({left:"+="+j},800),f--))});d.click(function(){c.is(":animated")||(f==h?(c.animate({left:"-="+j},800,function(){c.css({left:0})}),f=1):(c.animate({left:"-="+j},800),f++))});a.hover(function(){$(this).addClass("ws-phover")},function(){$(this).removeClass("ws-phover")});d.hover(function(){$(this).addClass("ws-phover")},function(){$(this).removeClass("ws-phover")})}})();
(function(){hao.topgame=function(a){var b=$(a||"#box-topgame"),d=$("img",b),c=!1,g=function(){var a=$(document).scrollTop(),g=$(window).height(),j=b.offset().top;a+g>j&&(d.each(function(){$(this).attr("src",$(this).attr("imgurl"))}),c=!0)};$(window).height()>b.offset().top&&g();$(window).scroll(function(){c||g()});$(window).resize(function(){c||g()})}})();
(function(a){a.widget("hao123.toplist",{options:{listName:null,hoverCls:"option_hover"},_create:function(){this.$titles=a(".js_title li a",this.element);this._bindEvent();try{a.hao123.cookie.del("HAOTOPLIST_NEWS"),a.hao123.cookie.del("HAOTOPLIST_ENTERTAIN")}catch(b){}},_bindEvent:function(){var b=this,d=b.options;b.$titles.bind("click",function(){var b="HAOTOPLIST"+d.listName,g=a(this).data("name");if("current"!=a(this).parent().data("current"))return xAjax.goURI(a(this).data("url"),["box-toplist2"]),
a.hao123.setProfile(b,g),!1});a(document).bind("getprof",function(){b.$titles.each(function(b,g){var f="HAOTOPLIST"+d.listName;a(g).data("name")==currentProfile[f]&&xAjax.goURI(a(g).data("url"),["box-toplist2"])})})},_setCookie:function(b,d){a.hao123.cookie(b,d)},destroy:function(){a.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(){function a(a){return RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(a)&&(a=RegExp("(^| )"+a+"=([^;]*)(;|$)").exec(document.cookie))?a[2]||null:null}var b=!0;hao.toplist2=function(){$("#toplist2").toplist({listName:"_NEW"});b||$("#toplist2 .g_box").hide().fadeIn("slow");b=!1;$("#toplist2 .widget-tophot2").bind("click",function(b){var b=b.target,c;for(c="A";b&&b.nodeName!=c;)b=b.parentNode;if(b){b=$(b).attr("href");c=a("FLASHID");var g=a("BAIDUID"),
f;(c=c&&c.split(":")[0])?f=c:(g=g&&g.split(":")[0])&&(f=g);$.hao123.log.send({url:"http://www.hao123.com/api/incr",link:b,c:f})}})}})();(function(){$.hao123.starbar=function(){var a=$(".widget-starbar li"),b=function(){a.each(function(){$(this).removeClass("js_hover")})};a.hover(function(){b();$(this).addClass("js_hover")},function(){b()})}})();
(function(){hao.coolsite=function(){$(".js_coolsitegroup").sitelinks();var a=$(".widget-coolsite li"),b=function(){a.each(function(){$(this).removeClass("js_khover")})};a.hover(function(){b();$(this).addClass("js_khover")},function(){b()})}})();(function(){hao.famoussite=function(){$(".js_famoussitegroup").sitelinks()}})();
$.hao123.siteLog=function(a){function b(){return HLogin.loginModel.isLogin}var d={level:1,page:window.pageId};a.bind("sitemanageclick",function(){var a=$.extend({type:"manage",isLogin:b()},d);$.hao123.log.send(a)});a.bind("siteintoaddclick",function(){var a=$.extend({type:"intoadd",isLogin:b()},d);$.hao123.log.send(a)});a.bind("sitenoneaddclick",function(){var a=$.extend({type:"noneadd"},d);$.hao123.log.send(a)});a.bind("sitelogin",function(a,b){var f=$.extend({type:b.login,twicetype:b.twicelogin},
d);$.hao123.log.send(f)});a.bind("sitedefaultlogin",function(){var a=$.extend({type:"defaultLogin"},d);$.hao123.log.send(a)});a.bind("siteadd",function(a,g){$.hao123.log.send($.extend({type:"add",siteId:g.id,siteUrl:g.url,isLogin:b()},d))});a.bind("siteaddsync",function(a,g){$.hao123.log.send($.extend({type:"addsync",siteId:g.id,siteUrl:g.url,isLogin:b()},d))});a.bind("siterecommend",function(a,g){var f=$.extend({type:"recommend",siteId:g.id,siteUrl:g.url,isLogin:b()},d);$.hao123.log.send(f)});a.bind("siteaddclicksync",
function(a,g){var f=$.extend({type:"addclicksync",siteId:g.id,siteUrl:g.url,isLogin:b()},d);$.hao123.log.send(f)});a.bind("sitecms",function(a,g){var f=$.extend({type:"cms",siteId:g.id,siteUrl:g.url,isLogin:b()},d);$.hao123.log.send(f)});a.bind("sitemodify",function(a,g){var f=$.extend({type:"modify",siteId:g.id,siteUrl:g.url,isLogin:b()},d);$.hao123.log.send(f)});a.bind("sitedeletesync",function(){var a=$.extend({type:"syncdelete"},d);$.hao123.log.send(a)});a.bind("sitedodelete",function(a,g){var f=
$.extend({type:"delete",siteId:g.id,siteUrl:g.url,isLogin:b()},d);$.hao123.log.send(f)});a.bind("siterecovered",function(){var a=$.extend({type:"recover",isLogin:b()},d);$.hao123.log.send(a)});a.bind("sitetextclick",function(a,g){var f=$.extend({type:"textclick",siteId:g.id,siteUrl:g.url,status:g.status,isLogin:b()},d);$.hao123.log.send(f)});a.bind("siterefresh",function(){var a=$.extend({type:"refresh"},d);$.hao123.log.send(a)});a.bind("siteerror",function(a,b){var f=$.extend({type:"siteerror",code:b.code},
d);b.info&&(f.info=b.info);$.hao123.log.send(f)});a.bind("siteerrorflash",function(){var a=$.extend({type:"siteerrorflash"},d);$.hao123.log.send(a)});a.bind("sitemanagerecommend",function(){var a=$.extend({type:"managerecommend"},d);$.hao123.log.send(a)});a.bind("sitedeleteallrecommend",function(){var a=$.extend({type:"deleteallrecommend"},d);$.hao123.log.send(a)});a.bind("sitegetusererror",function(a,b){var f=$.extend({type:"getusererror",code:b},d);$.hao123.log.send(f)})};
function TimeHint(a,b){this.duration=b||3E3;this.timeHandler=null;this.elem=a}TimeHint.prototype={show:function(a,b){var d=this,b=b||{};d.timeHandler&&window.clearTimeout(d.timeHandler);b.text&&d.elem.html(b.text);d.elem.css(a);d.elem.show();d.timeHandler=window.setTimeout(function(){d.elem.hide()},d.duration)},hide:function(){this.timeHandler&&(window.clearTimeout(this.timeHandler),this.timeHandler=null);this.elem.hide()}};
$.hao123.siteConfig={css:{siteNormal:"site-normal",siteEdit:"site-edit",hdNormal:"site-hd-normal",hdEdit:"site-hd-edit",itemNormal:"site-item-normal",itemMove:"site-item-move",itemEdit:"site-item-edit",itemCurrent:"site-item-current",itemDashed:"site-item-dashed",itemAdd:"site-item-add",itemAddUp:"site-item-add-up",itemAddDown:"site-item-add-down",item:"site-item",js_item:"js_site-item",bdNormal:"site-bd-normal",itemText:"site-text",itemTpl:"site-tpl",sugError:"error"},sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",
callbackFn:"baidu.sug",callbackDataKey:"s",requestParas:{prod:"superpage"},n:5,noSubmit:!0},error:{500:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com" target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',501:"\u8be5\u7f51\u5740\u5df2\u5b58\u5728",510:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',503:'\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u70b9 <a href="http://www.hao123.com"  target="_self">\u8fd9\u91cc</a> \u5237\u65b0\u9875\u9762',
511:"\u8bf7\u8f93\u5165\u6b63\u786e\u683c\u5f0f\uff0c\u5982http://www.abc.com",512:"\u7f51\u7ad9\u540d\u79f0\u8fc7\u957f",513:"\u7f51\u5740\u8fc7\u957f",515:"\u8bf7\u8f93\u5165\u7f51\u7ad9\u540d\u79f0",516:"\u8bf7\u8f93\u5165\u7f51\u5740",507:"\u8bf7\u60a8\u5148\u767b\u5f55",514:"\u7f51\u5740\u5df2\u6ee1\uff0c\u8bf7\u5220\u9664\u4e0d\u5e38\u7528\u7684\u7f51\u5740"},info:{loading:"\u6b63\u5728\u8bf7\u6c42\uff0c\u8bf7\u7a0d\u5019",ok:"\u64cd\u4f5c\u6210\u529f\uff01",refresh:"\u6b63\u5728\u5237\u65b0\uff0c\u8bf7\u7a0d\u5019"},
url:{init:"http://www.hao123.com/url/init",add:"http://www.hao123.com/url/add",modify:"http://www.hao123.com/url/modify",doDelete:"http://www.hao123.com/url/delete",recover:"http://www.hao123.com/url/reset",needImport:"http://www.hao123.com/url/isneedimport",doImport:"http://www.hao123.com/url/import",sort:"http://www.hao123.com/url/sort",cr:"http://www.hao123.com/api/paneldata",delRecommend:"http://www.hao123.com/api/delrecom",delRecombyid:"http://www.hao123.com/api/delrecombyid",user:"http://www.hao123.com/api/username"},retry:2,recommendN:3,recommendMaxWord:5,showSaveMax:5,nameMaxLength:40,urlMaxLength:200,siteMaxlength:48,guestMaxLength:10,guestStatus:2,dragHint:"\u62d6\u52a8\u6392\u5e8f",confirmTitle:"\u63d0\u793a",confirmText:"\u767b\u5f55\u540e\u53ef\u7f16\u8f91\u66f4\u591a\u7f51\u5740\uff0c\u968f\u65f6\u968f\u5730\u6536\u85cf\uff0c\u4e0d\u518d\u62c5\u5fc3\u7f51\u5740\u4e22\u5931\uff01",
alertTitle:"\u63d0\u793a",recoverTitle:"\u6062\u590d\u9ed8\u8ba4",recoverText:"\u662f\u5426\u8981\u6062\u590d\u4e3a\u9ed8\u8ba4\u7f51\u5740\uff1f",adddedText:"\u5df2\u6dfb\u52a0\uff0c\u70b9\u51fb\u53d6\u6d88",emptyText:"\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55\uff01",guestHint:"\u7f51\u5740\u8fc7\u591a\uff0c\u5efa\u8bae\u767b\u5f55\u540e\u6c38\u4e45\u4fdd\u5b58",baiduCookie:"BAIDUID",flashCookie:"FLASHID",dataIdAttr:"data-id",iconBaseUrl:"http://su.bdimg.com/icon/",defaultIconUrl:"http://1.su.bdimg.com/icon/6000.png",
jsItem:".js_site-item",tpl:{sugMain:'<ol class="site-sugwrap">#{content}<ol>',sugItem:'<li site="#{site}" q="#{q}"><span class="name">#{title}</span><span class="url">#{text}</span></li>',sugSplitChar:"0{#S+_}",recommend:"<li><a class='item item-add js_recommend' data-id='#{id}' hidefocus='true'  data-type='recommend' href='#{url}'>#{name}</a> <span>#{count}\u6b21</span></li>",cms:"<dl><dt><span class='popup-site-cms-title'>#{name}</span></dt>#{content}</dl>",cmsContent:"<dd #{itemStyle}><a href='#{url}' data-id='#{id}' hidefocus='true' data-type='cms' class='#{className}'>#{name}</a></dd>",
itemTag:"<ul>",editItem:"<li title='\u62d6\u52a8\u6392\u5e8f' class='js_site-item' data-id='#{id}' data-name='#{rawName}'  data-url='#{url}'><span class='js_text text' >#{name}</span><a  class='js_modify modify'  href='#' title='\u4fee\u6539' hidefocus='true'></a><a class='js_delete delete'  href='#'  title='\u5220\u9664' hidefocus='true'></a></li>",item:'<li class="js_site-item site-item site-item-normal #{style}" data-status="#{status}" title="#{title}" data-id="#{id}"><a class="js_text" href="#{url}" style="background-image:url(#{icon})" hidefocus="true">#{name}</a></li>',
recommendNone:'<div class="popup-site-recommend-sidenone"><h5>\u60a8\u5e38\u70b9\u7684\uff1a</h5><span>\u8fd8\u6ca1\u6709\u53d1\u73b0\u60a8\u5e38\u70b9\u7684\u7f51\u5740\uff0c\u5efa\u8bae\u60a8\u591a\u4f7f\u7528hao123</span></div>',noData:'<li class="js_no-data nodata">\u6ca1\u6709\u5e38\u7528\u7f51\u5740\uff0c\u8bf7\u60a8<a href="javascript:void(0)">\u6dfb\u52a0</a></li>',addNormalBtn:'<li class="js_item-add site-item site-item-add site-item-add-normal"><i></i><span class="site-item-add-text">\u6dfb\u52a0\u7f51\u5740</span>#{recommend}</li>',
addShortBtn:'<li title="\u6dfb\u52a0\u7f51\u5740" class="js_item-add site-item site-item-add site-item-add-short"><i></i>#{recommend}</li>',addRecommend:'<strong title="\u70b9\u51fb\u67e5\u770b\u63a8\u8350\u7684\u7f51\u5740" class="count js_add-count">#{count}</strong>'}};
$.hao123.siteView=function(a,b){function d(a){a=b.trim(a);/^.+:\/\/.*$/i.test(a)||(a="http://"+a);a=a.replace(/^(.+:\/\/)([^\/?]+)(.*)$/,function(a,b,c,d){return/^(https?|ftp)/i.test(b)?b.toLowerCase()+c.toLowerCase()+d:"http://"+c.toLowerCase()+d});a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return a=a.replace(/\x3c/g,"").replace(/\x3E/g,"").replace(/\x22/g,"").replace(/\x27/g,"")}function c(a){return a?"http://"+(a.split(".")[0]%2+1)+"."+k.iconBaseUrl+a:k.defaultIconUrl}function g(a){a=b.trim(a);
a=a.replace(/^(.+:\/\/[^\/?]+)[\/?]$/,"$1");return h(a)}function f(a){a=b.trim(a);2==a.length?a=a.charAt(0)+"&#12288;"+a.charAt(1):3==a.length&&(a=a.charAt(0)+" "+a.charAt(1)+" "+a.charAt(2));return h(a,!0)}function h(a){return a=a.replace(/\x3c/g,"&lt;").replace(/\x3E/g,"&gt;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#39;")}function j(a,b){return!a||!b?!1:a.replace(/(.*)\/$/,"$1").toLowerCase()==b.replace(/(.*)\/$/,"$1").toLowerCase()}var e,k=b.hao123.siteConfig,l=b.hao123.cookie,n=k.jsItem,
m=b.hao123.format,o=null,r=null,p=this;return{doBlink:function(){var b=0,c=["#f3f3f3","#f7f7f7"];a.setTimeout(function(){e.blink.css("background-color",c[b%2]);b++;8>b&&a.setTimeout(arguments.callee,200)},200)},_getPosition:function(a){for(var c={left:a.offsetLeft,top:a.offsetTop},a=a.offsetParent;a&&!b(a).hasClass("popup-site");)c.left+=a.offsetLeft,c.top+=a.offsetTop,a=a.offsetParent;c.top-=34;return c},on517:function(){e.sugName.val("");e.sugUrl.val("");e.modify.hide();e.add.show()},getTopRecommend:function(){return{name:e.topRecommendLink.html(),
url:e.topRecommendLink.get(0).getAttribute("href",2),icon:e.topRecommend.attr("data-icon")}},onAddClickSynced:function(a){b(m(k.tpl.item,{id:this.id,name:f(a.name),url:g(a.url),icon:c(a.icon),title:6>a.name.length?"":f(a.name),status:a.status})).insertBefore(e.topRecommend);e.topRecommend.remove();e.topRecommendHint.remove()},clearHint:function(){e.hintSug.hide();e.hintSave.hide();e.hintNoicon.hide();e.hintAdded.hide()},onRcommendDeleteOver:function(a){a=p._getPosition(a);a.left-=45;a.top-=6;e.hintNoicon.show(a,
{text:k.emptyText})},onRcommendDeleteOut:function(){e.hintNoicon.hide()},onImported:function(a){if("none"!=e.psite.get(0).style.display){p.updatePopup(a);p.clearError();e.sugName.val("");e.sugUrl.val("");e.placeHolderName.hide();e.placeHolderUrl.hide();var c={};b.each(a,function(){c[this.url]=this.id});e.psite.find(".item").each(function(){var a=this.href.replace(/(.*)\/$/,"$1");c[a]&&(this.className="item item-added",this.setAttribute("data-id",c[a]))})}else this.update(a)},onRefreshed:function(a){a?
(e.refresh.show(),e.manage.hide(),e.bd.find(".js_item-add").hide()):(e.refresh.hide(),e.manage.show(),e.bd.find(".js_item-add").show())},onRefreshClick:function(a){e.refresh.hide();e.manage.show();p.update(a)},onAddedClick:function(a){p._recoverAdded(a.href);e.sugName.val("");e.sugUrl.val("");e.modify.hide();e.add.show();e.sites.find(n).each(function(){if(this.getAttribute("data-id")==a.getAttribute("data-id"))return b(this).remove(),!1});this.clearError();e.hintNoicon.hide();e.hintAdded.hide();e.hintSave.hide();
e.hintSug.hide();e.recover.show();return a.getAttribute("data-id")},onAddedItemOut:function(){e.hintNoicon.hide()},onAddedItemOver:function(a){e.hintAdded.hide();e.hintNoicon.show(p._getPosition(a),{text:k.adddedText})},onItemClick:function(a){var c=a.innerHTML,e=a.getAttribute("href",2);return""!=b.trim(c)&&""!=b.trim(e)?(r=a,{name:b.trim(c),url:d(e),type:a.getAttribute("data-type")}):!1},onFirsted:function(a){e.sites.find(n).each(function(){var b=this.getAttribute("data-id");this.setAttribute("data-id",
a[b])})},onRecovered:function(a){e.noDataHint.hide();e.recover.hide();e.saveForeverHint.hide();p.updatePopup(a);e.cms.find(".item-added").each(function(){this.className="js_recommend item item-normal"});e.recommendContent.find(".item-added").each(function(){this.className="js_recommend item item-add"});b.each(a,function(){});this.clearError();e.sugName.val("");e.sugUrl.val("");e.add.show();e.modify.hide();e.hintAdded.hide()},onRecommendControlClick:function(){e.recommend.html(k.tpl.recommendNone);
e.options.recommendCount=0;e.hintNoicon.hide()},onSorted:function(){var a=[];e.recover.show();b(n,e.sites).each(function(){var c=this.getAttribute("data-id");""!=b.trim(c)&&a.push(c)});return a},onCred:function(a){e.recommendContent.html("");if(0<e.options.recommendCount){e.recommendCount.html(a.data.recommend.length);var c=k.tpl.recommend;b.each(a.data.recommend,function(){e.recommendContent.append(m(c,{name:h(this[0]),url:g(this[1]),count:this[2],id:this[3]}))});e.recommend.show()}var d=[];e.cms.html("");
b.each(a.data.cms,function(){this.isTitle?(e.cms.append(m(k.tpl.cms,{name:this.name+"\uff1a",content:d.join("")})),d=[]):d.push(m(k.tpl.cmsContent,{className:this.isAdded?"item item-added":"js_recommend item item-normal",name:this.name,url:this.url,id:this.id,itemStyle:this.isImportant?"class='important'":""}))})},onItemModifyClick:function(a){e.modify.show();e.add.hide();o=a=b(a);e.placeHolderName.hide();e.placeHolderUrl.hide();e.sugName.get(0).focus();e.sugName.val(a.attr("data-name"));e.sugUrl.val(a.attr("data-url"));
p.clearError()},_recoverAdded:function(a){e.psite.find(".item-added").each(function(){j(a,this.href)&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")})},onItemDeleteClick:function(a){e.psite.find(".item-added").each(function(){var b=this.getAttribute("data-id");if(b&&b==a.getAttribute("data-id"))return p._recoverAdded(this.href),!1});b(a).remove();e.recover.show();e.sugName.val("");e.sugUrl.val("");e.add.show();e.hintAdded.hide();
e.modify.hide();0==e.sites.find(".js_site-item").length&&(e.noDataHint.show(),e.sites.hide())},onAdded:function(a){e.noDataHint.hide();e.hintSave.hide();e.recover.show();e.sites.show();e.sites.append(m(k.tpl.editItem,{id:a.id,url:g(a.url),name:f(a.name),rawName:a.name}));e.sugName.val("");e.sugUrl.val("");e.placeHolderName.hide();e.placeHolderUrl.hide();a.type&&(e.hintAdded.show(p._getPosition(r),{text:k.addedText}),r=null);b(".js_recommend",e.psite).each(function(){j(this.getAttribute("href",2),
a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onModified:function(a){e.add.show();e.recover.show();e.modify.hide();b(m(k.tpl.editItem,{id:a.id,url:g(a.url),name:f(a.name),rawName:a.name})).insertBefore(o);o.remove();e.sugName.val("");e.sugUrl.val("");b(".item-added",e.psite).each(function(){j(this.href,o.attr("data-url"))&&(this.className="cms"==this.getAttribute("data-type")?"js_recommend item item-normal":"js_recommend item item-add")});o=null},_refreshState:function(a){b(".js_recommend",
e.psite).each(function(){j(this.href,a.url)&&(this.className="item item-added",this.setAttribute("data-id",a.id))})},onAddClick:function(){if(!this._check())return!1;this.clearError();return{name:b.trim(e.sugName.val()),url:d(e.sugUrl.val())}},onModifyClick:function(){if(!this._check())return!1;this.clearError();return{name:b.trim(e.sugName.val()),url:d(e.sugUrl.val()),id:o.attr("data-id")}},init:function(a){var b=!1;e=a;p=this;a=l.get(k.flashCookie);!e.isLanding&&null==a&&(b=!0,e.bd.find(".js_item-add").hide(),
e.manage.hide());e.isLanding&&e.save.hide();return b},showRefresh:function(){e.refresh.show()},onManageClick:function(a,b){a?e.recover.show():e.recover.hide();e.sugName.val("");e.sugUrl.val("");b?p.showSaveMessage():e.saveForeverHint.hide();0==e.options.recommendCount&&(e.recommend.show(),e.recommend.html(k.tpl.recommendNone))},showSaveMessage:function(){l.get(e.shaveHintCookie)||e.saveForeverHint.show()},getSiteData:function(){var a=[],c=this;b(n+':not(".site-item-recommend")',e.bd).each(function(){var b=
this.children[0];a.push({id:this.getAttribute("data-id"),name:b.innerHTML.replace("&#12288;","").replace(/ /g,"").replace("\u3000",""),url:b.getAttribute("href",2),status:this.getAttribute("data-status"),icon:c._getIcon(b),style:this.getAttribute("data-style")})});return a},_getIcon:function(a){var b=a.parentNode.getAttribute("data-icon");return b?b:""!=a.style.backgroundImage?a.style.backgroundImage.match(/^.*\/([^)]+)/)[1]:"6000.png"},update:function(a){if(0>=a.length)e.bd.html(k.tpl.noData);else{var d=
[];b.each(a,function(){var a=m(k.tpl.item,{id:this.id,name:f(this.name),url:g(this.url),icon:c(this.icon),title:6>this.name.length?"":f(this.name),status:this.status,style:this.style});d.push(a)});e.bd.html(d.join(""));if(6!=a.length){var h="";0<e.options.recommendCount&&(h=m(k.tpl.addRecommend,{count:e.options.recommendCount}));0==a.length%6?(e.bd.find("li:last a").get(0).style.cssText+=";max-width:56px;_width:56px;min-width:56px;",e.bd.append(m(k.tpl.addShortBtn,{recommend:h}))):e.bd.append(m(k.tpl.addNormalBtn,
{recommend:h}));e.add.show();e.modify.hide();e.sugName.val("");e.sugUrl.val("")}}},updatePopup:function(a){var c=[];b.each(a,function(){c.push(m(k.tpl.editItem,{id:this.id,url:g(this.url),name:f(this.name),rawName:this.name}))});0==c.length?(e.noDataHint.show(),e.sites.hide()):(e.noDataHint.hide(),e.sites.html(c.join("")).show())},initSug:function(){var c=k.sug,d=k.tpl;c.templ=function(a,e){for(var f=[],g=a.s,h={},j=0,n=0;j<g.length&&n<c.n;j++){var k=b.parseJSON(g[j].split(d.sugSplitChar)[1]);k&&
(k[1]=k[1]||"",k[4]&&(k[4]=k[4]||"",h[k[4]]||(n++,h[k[4]]=!0,f.push(m(d.sugItem,{site:k[1],q:k[4],title:k[4].replace(e,"<strong>"+e+"</strong>"),text:k[1].replace(e,"<strong>"+e+"</strong>")})))))}return 0>=f.length?null:m(d.sugMain,{content:f.join("")})};e.sugName.focusin(function(){e.placeHolderName.hide()});e.sugUrl.focusin(function(){e.placeHolderUrl.hide()});e.sugName.focusout(function(){""==this.value&&e.placeHolderName.show();""==e.sugUrl.value&&e.placeHolderUrl.show()});e.sugUrl.focusout(function(){""==
this.value&&e.placeHolderUrl.show();""==e.sugName.value&&e.placeHolderName.show()});c.onSelect=function(a,b){a&&b&&(e.sugName.val(a),e.sugUrl.val(b),f.s=null,e.placeHolderName.hide(),e.placeHolderUrl.hide(),p.clearError())};c.onEnable=function(a){a=0<=a.className.indexOf("js_sug-url")?e.sugName:e.sugUrl;return 0<b.trim(a.val()).length?!1:!0};var f=null;6==b.hao123.browser.ie?a.setTimeout(function(){G.sug(e.sugName.get(0),c);f=G.sug(e.sugUrl.get(0),c);e.placeHolderUrl.show();e.placeHolderName.show()},
20):(G.sug(e.sugName.get(0),c),f=G.sug(e.sugUrl.get(0),c))},clearError:function(){e.sugName.removeClass(k.css.sugError);e.sugUrl.removeClass(k.css.sugError);e.hintSug.hide()},showError:function(a){switch(a){case 515:case 512:e.hintSug.show(p._getPosition(e.sugName.get(0)),{text:k.error[a]});e.sugName.addClass(k.css.sugError).get(0).focus();e.sugUrl.removeClass(k.css.sugError);break;case 516:case 513:case 501:e.hintSug.show(p._getPosition(e.sugUrl.get(0)),{text:k.error[a]});e.sugUrl.addClass(k.css.sugError).get(0).focus();
e.sugName.removeClass(k.css.sugError);break;case 514:e.hintSave.show(p._getPosition(e.sugUrl.get(0)),{text:k.error[a]});break;case 507:break;case 599:break;case 588:break;case 600:case 601:case 602:case 603:e.hintSug.show(p._getPosition(e.sugUrl.get(0)),{text:"\u7528\u6237\u6807\u8bc6\u4e22\u5931\uff01"});break;case 900:break;default:e.hintSave&&e.hintSave.show(p._getPosition(e.sugUrl.get(0)),{text:k.error[a]})}},_check:function(){var a=b.trim(e.sugName.val()),c=b.trim(e.sugUrl.val());if(""==a)return this.showError(515);
if(0>=c.length||/^(https?:\/\/|ftp:\/\/)$/i.test(c))return this.showError(516);if(a.length>k.nameMaxLength)return this.showError(512);if(c.length>k.urlMaxLength)return this.showError(513);this.clearError();return!0}}}(this,jQuery);
$.hao123.siteModel=function(a,b){function d(){(new Date).getTime();return c()?{key:(new Date).getTime(),c:c()}:null}function c(){var b=k.get(h.baiduCookie);return(b=k.get(h.flashCookie)||b)&&32<=b.length?(b=b.substring(0,32),a.encodeURIComponent(b)):null}function g(a){for(var b=0;b<e.length;b++)e[b].id=a[e[b].id],e[b].style=""}function f(a){return a.replace(/(.*)\/$/,"$1").toLowerCase()}var h=b.hao123.siteConfig,j=h.url,e=[],k=b.hao123.cookie,l={_events:{added:[],firsted:[],deleted:[],modified:[],
recovered:[],recommended:[],addSynced:[],addClickSynced:[],imported:[],sorted:[],error:[],refreshed:[],operated:[],cred:[],getUser:[]},checkLimit:function(a){if(a&&this.getItemById(a).status==h.guestStatus)return 0;for(var b=a=0;b<e.length;b++)e[b].status==h.guestStatus&&a++;return a>=h.guestMaxLength?517:0},getUserDataCount:function(){for(var a=0,b=0;b<e.length;b++)e[b].status==h.guestStatus&&a++;return a},getData:function(){return e},checkIsShowSave:function(){if(HLogin.loginModel.isLogin)return!1;
var a=this.getUserDataCount();return a>=h.showSaveMax?a:!1},checkIsShowRecover:function(){return 0==e.length||500<e[0].id?!0:!1},checkFull:function(){return e.length>=h.siteMaxlength?514:0},checkAddDuplicate:function(a){for(var b=0;b<e.length;b++)if(e[b].url==a)return 501;return 0},checkModifyDuplicate:function(a){if(a.url==this.getItemById(a.id).url)return 0;for(var b=0;b<e.length;b++)if(e[b].url==a.url)return 501;return 0},init:function(a){e=a},getModifyItem:function(a){return modifyItem=this.getItemById(a)},
getItemById:function(a){for(var b=0;b<e.length;b++)if(e[b].id==a)return e[b]},deleteItemById:function(a){for(var b=0;b<e.length;b++)e[b].id==a&&e.splice(b,1)},getUser:function(){var a=d();b.ajax({url:j.user,success:function(a){switch(a.code){case 200:l.dispatchEvent("getUser",{userName:a.name,code:200});break;default:l.dispatchEvent("getUser",{userName:"",code:a.code})}},error:function(){l.dispatchEvent("getUser",{userName:"",code:"900"})},data:a,dataType:"json",type:"GET"})},sort:function(a){b.post(j.sort,
b.extend({ids:a},d()),function(a){l.dispatchEvent("operated");switch(a.code){case 200:l.dispatchEvent("sorted");break;case 201:g(a.data.map);l.dispatchEvent("firsted",a.data.map);break;default:l.dispatchEvent("error",{code:a.code,src:"sort"})}},"json")},doImport:function(){b.getJSON(j.doImport,d(),function(a){l.dispatchEvent("operated");switch(a.code){case 200:e=a.data.sites;l.dispatchEvent("imported",e);break;default:l.dispatchEvent("error",{code:a.code,src:"doimport"})}})},recover:function(){b.getJSON(j.recover,
d(),function(a){switch(a.code){case 200:e=a.data.sites;l.dispatchEvent("recovered",a.data.sites);row=0;break;default:l.dispatchEvent("error",{code:a.code,src:"recover"})}})},add:function(a){var c=l.checkAddDuplicate(a.url);0<c?l.dispatchEvent("error",{code:c,src:"feadd"}):(a.key=(new Date).getTime(),b.post(j.add,b.extend(a,d()),function(b){l.dispatchEvent("operated");var c=null;switch(b.code){case 201:g(b.data.map),l.dispatchEvent("firsted",b.data.map);case 200:c={isRecommend:a.isRecommend,icon:b.data.icon,
name:a.name,url:a.url,id:b.data.id,status:b.data.status,type:a.type,obj:a.obj};e.push(c);l.dispatchEvent("added",c);break;default:c="add",a.isSynadd&&(c="synadd"),l.dispatchEvent("error",{code:b.code,src:c})}},"json"))},addSync:function(a){b.post(j.add,b.extend(a,d()),function(b){l.dispatchEvent("operated");var c=null;switch(b.code){case 201:g(b.data.map);c={icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status};e.push(c);l.dispatchEvent("addSynced",e);break;default:l.dispatchEvent("error",
{code:b.code,src:"addSync"})}},"json")},addClickSync:function(a){b.post(j.add,b.extend(a,d()),function(b){l.dispatchEvent("operated");var c=null;switch(b.code){case 201:g(b.data.map);c={icon:b.data.icon,name:a.name,url:a.url,id:b.data.id,status:b.data.status};e.push(c);l.dispatchEvent("addClickSynced",c);break;default:l.dispatchEvent("error",{code:b.code,src:"addClickSync"})}},"json")},doDelete:function(a){b.getJSON(j.doDelete,b.extend({id:a},d()),function(b){l.dispatchEvent("operated");switch(b.code){case 201:l.deleteItemById(a);
g(b.data.map);l.dispatchEvent("firsted",b.data.map);break;case 200:l.deleteItemById(a);break;default:l.dispatchEvent("error",{code:b.code,src:"del"})}})},delRecommend:function(){b.getJSON(j.delRecommend,d(),function(a){500<=a.code&&l.dispatchEvent("error",{code:a.code,src:"delRecommend"})})},delRecombyid:function(a){b.getJSON(j.delRecombyid,b.extend({id:a},d()),function(a){500<=a.code&&l.dispatchEvent("error",{code:a.code,src:"delRecombyid"})})},modify:function(a){var c=l.checkModifyDuplicate(a);
if(0<c)l.dispatchEvent("error",{code:c,src:"femodify"});else{var e=this;b.post(j.modify,b.extend(a,d()),function(b){l.dispatchEvent("operated");switch(b.code){case 201:g(b.data.map),l.dispatchEvent("firsted",b.data.map);case 200:var c=e.getItemById(201==b.code?b.data.map[b.data.oldid]:b.data.oldid);c.name=a.name;c.url=a.url;c.id=b.data.id;c.status=b.data.status;c.icon=b.data.icon;l.dispatchEvent("modified",c);break;default:l.dispatchEvent("error",{code:b.code,src:"modify"})}},"json")}},refresh:function(){var a=
d();if(!a)return!1;b.ajax({url:j.init,success:function(a){l.dispatchEvent("operated");switch(a.code){case 200:a.data.isuser?(e=a.data.sites,l.dispatchEvent("refreshed",!0)):l.dispatchEvent("refreshed",!1);break;default:l.dispatchEvent("error",{code:a.code,src:"refreshSuccess"})}},error:function(){b.ajax({url:j,data:d(),success:function(a){l.dispatchEvent("error",{code:"588",src:"refresh"+a.substring(0,500)})},dataType:"text",type:"GET"})},data:a,dataType:"json",type:"GET"})},sortData:function(a){var c=
{};b.each(e,function(){c[this.id]=this});e=[];b.each(a,function(){e.push(c[this])});return e},getCRdata:function(){var a=d();a.n=5;var c={};b.each(e,function(){c[f(this.url)]=this.id});0<document.URL.indexOf("sitepopuppreview")&&(a.preview=1);b.ajax({url:j.cr,success:function(a){b.each(a.data.cms,function(){this.isTitle||(this.isAdded=Boolean(c[f(this.url)]),this.id=c[f(this.url)])});l.dispatchEvent("cred",a)},error:function(a,b,c){l.dispatchEvent("error",{code:599,src:"cr"+b+c})},data:a,dataType:"json",
type:"GET"})}};b.extend(l,b.hao123.ievent);b(document).ajaxError(function(a,b,c){/forecast|track\.gif|timer\.gif|monkey|lottery|username/.test(c.url)||l.dispatchEvent("error",{code:599,src:b.status+c.url.replace(/^(.*)\?.+/,"$1")})});return l}(this,jQuery);
(function(a,b){function d(a){if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};if(document.documentElement&&document.documentElement.scrollTop)return{x:a.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:a.clientY+document.documentElement.scrollTop-document.documentElement.clientTop};if(document.body)return{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}}var c=null,g=b.hao123.siteConfig,f=g.jsItem;
f.substring(1);var h="item-move";b.hao123.SiteDrag=function(a,b){this.container=a;this.placeHolder=b;this._events={sorted:[]};this.activeIndex=-1};b.hao123.SiteDrag.prototype={setIsCanDrag:function(a){this._isCanDrag=a},dragable:function(){var a=this;this.container.delegate(g.jsItem,"mousedown",function(c){function g(b){var c=d(b),b=c.x,c=c.y,e=b-r+m,f=c-p+o;0<e&&e+q.offsetWidth<a.container.width()+10&&(m=e);0<f&&f<a.container.height()&&(o=f);q.style.left=m+"px";q.style.top=o+"px";r=b;p=c;a._dealMeet(q);
return!1}function l(){b(document).off("mousemove",g);b(document).off("mouseup",l);b.hao123.browser.ie?q.releaseCapture():q.style.opacity="";a._moveTo(q,function(){b(q).insertBefore(a.placeHolder).removeClass(h);a.placeHolder.hide();var c=b(f).index(q);a.activeIndex!=c&&(a.activeIndex=c,a.dispatchEvent("sorted"))});return!1}function n(){return a._isCanDrag?!1:!0}a.container.on("click",n);if(!(0<=c.target.className.indexOf("js_modify")||0<=c.target.className.indexOf("js_delete"))){a.activeIndex=b(f).index(this);
b.hao123.browser.ie?this.setCapture():this.style.opacity=0.8;this.style.left=this.offsetLeft+"px";this.style.top=this.offsetTop+"px";this.className=this.className+" "+h;a.placeHolder.insertBefore(this);a.placeHolder.show();var m=parseInt(this.style.left),o=parseInt(this.style.top),c=d(c),r=c.x,p=c.y;a._registePosition();var q=this;b(document).on("mousemove",g);b(document).on("mouseup",l);b(document).off("mouseup",n);return!1}})},_registePosition:function(){c=[];b(f,this.container).each(function(a){c.push({left:this.offsetLeft,
top:this.offsetTop,index:a,thisObj:this})});this.placeHolder.index=b("li,",this.container).index(this.placeHolder)},_dealMeet:function(a){for(var b=a.offsetLeft,d=a.offsetTop,f=0;f<c.length;f++)if(c[f].thisObj!==a&&Math.abs(c[f].left-b)<0.5*a.offsetWidth&&Math.abs(c[f].top-d)<0.3*a.offsetHeight){this.placeHolder.index>c[f].index?this.placeHolder.insertBefore(c[f].thisObj):this.placeHolder.insertAfter(c[f].thisObj);this._registePosition();break}},_moveTo:function(b,c){var d=b.offsetLeft,f=b.offsetTop,
g=this.placeHolder.get(0).offsetLeft,h=this.placeHolder.get(0).offsetTop,o=d,r=f,p=0;10>Math.abs(g-d)&&10>Math.abs(h-f)?c():a.setTimeout(function(){o+=(g-d)/6;r+=(h-f)/6;b.style.left=o+"px";b.style.top=r+"px";6>p++?a.setTimeout(arguments.callee,20):c()},20)}};b.extend(b.hao123.SiteDrag.prototype,b.hao123.ievent)})(this,jQuery);
$.hao123.popupTpls={_head:'<div class="popup-head"><a class="js_close" href="javascript:void(0);"></a><span class="js_title"></span></div>',_login:'<div class="login_left"><ul class="login_tab"><li class="curr" id="login_tab_1">\u666e\u901a\u767b\u5f55<span></span></li><li id="login_tab_2" class="">\u624b\u673a\u767b\u5f55<span></span></li></ul><div class="err_holder" id="errHolder"></div><div id="login_holder"><div id="login_holder_1"></div><div style="display:none" id="login_holder_2"></div></div></div><div class="login_right"><p class="reg_text">\u8fd8\u6ca1\u6709\u767e\u5ea6\u5e10\u53f7\uff1f</p><p class="reg_link"><a href="https://passport.baidu.com/v2/?reg&amp;tpl=hao123&amp;regType=1&amp;u=http%3A%2F%2F'+window.location.host+
'%2F" target="_blank" id="reg_btn"></a></p><p class="other_title">\u4f7f\u7528\u5408\u4f5c\u7f51\u7ad9\u5e10\u53f7\u767b\u5f55</p><ul class="other_list"><li><a class="other_icon other_icon_qq" href="http://passport.baidu.com/phoenix/account/cloudlogin?tpl=hao123&u=http%3A%2F%2F'+window.location.host+'%2Fcloudjump.htm%3FtimeOut=1000&act=implicit&type=15">QQ\u5e10\u53f7\u767b\u5f55</a></li><li><a class="other_icon other_icon_sina" href="http://passport.baidu.com/phoenix/account/cloudlogin?tpl=hao123&u=http%3A%2F%2F'+
window.location.host+'%2Fcloudjump.htm%3FtimeOut=1000&act=implicit&type=2">\u65b0\u6d6a\u5fae\u535a\u5e10\u53f7\u767b\u5f55</a></li><li><a class="other_icon other_icon_renren" href="http://passport.baidu.com/phoenix/account/cloudlogin?tpl=hao123&u=http%3A%2F%2F'+window.location.host+'%2Fcloudjump.htm%3FtimeOut=1000&act=implicit&type=1">\u4eba\u4eba\u5e10\u53f7\u767b\u5f55</a></li></ul></div>',_confirm:"<div class='popup-body'><i></i><div><strong class='js_text'></strong> <p><button class='button js_ok'  ></button><button class='button js_cancel' >\u53d6\u6d88</button></p></div></div>",
_alert:"<div class='popup-alert-w'><p class='popup-alert-text js_text'></p><p class='popup-alert-control'><button class='button js_ok'>\u786e\u5b9a</button></p></div>",_tpl:"<div class='popup'>#{head}#{content}</div>",maskTpl:'<div class="popup-mask"></div>',getTpl:function(a){return $.hao123.format(this._tpl,{head:this._head,content:this["_"+a]})}};
(function(a,b){function d(){return a.innerHeight?a.innerHeight:l.documentElement.clientHeight}function c(){return a.innerWidth?a.innerWidth:l.documentElement.clientWidth}function g(){var a=document,b=a.body;return Math.max(a.documentElement.scrollHeight,b.scrollHeight,("BackCompat"==a.compatMode?b:a.documentElement).clientHeight)+"px"}function f(b){var e=d(),f=c();if(10<Math.abs(e-n)||10<Math.abs(f-m))j._mask&&j._mask.height(g()),n=e,m=f,b.css({left:(f-b.width())/2+"px",top:(a.pageYOffset||l.documentElement.scrollTop)+
(e-b.height())/2+"px"})}function h(){}b.hao123.popupmask={_mask:null,show:function(){this._mask||(this._mask=b(b.hao123.popupTpls.maskTpl).hide().appendTo("body"));p&&this._mask.height(g());this._mask.show()},hide:function(){this._mask&&this._mask.hide()}};b.hao123.specialmaskTpl={_mask:null,show:function(){this._mask||(this._mask=b(b.hao123.popupTpls.specialmaskTpl).hide().appendTo("body"));p&&this._mask.height(g());this._mask.show()},hide:function(){this._mask&&this._mask.hide()}};b.hao123.christmaskTpl=
{_mask:null,show:function(){this._mask||(this._mask=b(b.hao123.popupTpls.christmaskTpl).hide().appendTo("body"));p&&this._mask.height(g());this._mask.show()},hide:function(){this._mask&&this._mask.hide()}};var j=b.hao123.popupmask,e=b.hao123.specialmaskTpl,k=b.hao123.christmaskTpl,l=a.document,n=0,m=0,o=0,r=0,p=!("[object Opera]"==Object.prototype.toString.call(a.opera)||!a.attachEvent||a.XMLHttpRequest);h.prototype=new b.Widget;h.prototype=b.extend(h.prototype,{_baseCreate:function(){this.element.addClass(this.options.className).hide().appendTo("body")},
_baseShow:function(){this.element.show();this.element.css({left:(c()-this.element.width())/2+"px",top:(a.pageYOffset||l.documentElement.scrollTop)+(d()-this.element.height())/2+"px"});this.options.isModel&&j.show();var b=this;a.onresize=function(){f(b.element)}},_baseHide:function(){a.onresize=null;this.options.isModel&&j.hide();this.element.hide()},_christmasShow:function(){this.element.show();this.element.css({left:(c()-this.element.width())/2+"px",top:(a.pageYOffset||l.documentElement.scrollTop)+
(d()-this.element.height())/2+"px"});this.options.isModel&&k.show();var b=this;a.onresize=function(){f(b.element)}},_specialShow:function(b){this.element.css({display:"block",opacity:0,left:(c()-this.element.width())/2+"px",top:(a.pageYOffset||l.documentElement.scrollTop)+(d()-this.element.height())/2+30+"px"}).animate({top:"-=30",opacity:1},500);this.options.isModel&&e.show();var h=this;a.onresize=function(){var e=h.element,k=d(),n=c();if(10<Math.abs(k-o)||10<Math.abs(n-r))j._mask&&j._mask.height(g()),
o=k,r=n,e.css({left:(n-e.width())/2+"px",top:(a.pageYOffset||l.documentElement.scrollTop)+(k-e.height())/2+"px"});f(b)}},_specialhide:function(){this.options.isModel&&e.hide();this.element.fadeOut()},_christmasHide:function(){a.onresize=null;this.options.isModel&&k.hide();this.element.fadeOut()}});b.hao123.popup=h})(this,jQuery);
$.widget("hao123.alert",$.hao123.popup,{options:{className:"popup-alert",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var a=this.element,b=this;$(".js_title",a).html(this.options.title);$(".js_text",a).html(this.options.text);$(".js_close",a).click(function(){b._baseHide();return!1});$(".js_ok",a).click(function(){b._baseHide();b._trigger("ok")}).text(b.options.okText)},show:function(){this._baseShow()}});
$.widget("hao123.login",$.hao123.popup,{options:{className:"popup-login",title:"\u7528\u767e\u5ea6\u5e10\u53f7\u767b\u5f55",isModel:!0},_create:function(){this._baseCreate();var a=this.element,b=this;b._isInit=!1;$(".js_title",a).html(this.options.title);$(".js_close",a).click(function(){b._baseHide();b._isOpen=!1;b._trigger("close");return!1});$(".other_list",a).find("a").click(function(){window.open(this.href,"\u5408\u4f5c\u5e10\u53f7\u767b\u5f55","height=400,width=600,top=0,left=0,toolbar=no,menubar=no,scrollbars=no,resizable=no,location=no,status=no");
return!1})},_isOpen:!1,checkIsOpen:function(){return this._isOpen},show:function(){function a(a){if(a[2].username)return decodeURIComponent(decodeURIComponent(a[2].username));if(a[2].phonenumber)return a[2].phonenumber.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2");if(a[2].mail)return a[2].mail.replace(/@.+$/,"")}this._isOpen=!0;this._baseShow();if(!this._isInit){this._isInit=!0;var b=HLogin.loginConfig,d=HLogin.loginView,c=HLogin.loginModel,g=this,f={outerDomId:"login_holder_1",u:b.u,loginType:b.loginType,
staticpage:b.staticpage,tpl:b.tpl,bindEnterSubmit:!0,onReady:function(){d.onCommonReady()},onInputErr:d.onInputErr,onLoginSuccess:function(){var b=arguments;g._baseHide();g._isOpen=!1;c.signin({isInit:!1,userName:a(b)});$.hao123.getProfile();g._trigger("ok")},onSystemErr:d.onSystemErr};window.loginCallback=function(){bdPass.api.login.init(f);f.outerDomId="login_holder_2";f.isPhone=!0;f.onReady=function(){d.onPhoneReady()};bdPass.api.login.init(f)};$.ajaxSetup({cache:!0});$.getScript(b.passUrl);$.ajaxSetup({cache:!1})}}});
$.widget("hao123.confirm",$.hao123.popup,{options:{className:"popup-confirm",isModel:!0,okText:"\u786e\u5b9a"},_create:function(){this._baseCreate();var a=this.element,b=this;$(".js_title",a).html(this.options.title);$(".js_text",a).html(this.options.text);$(".js_close",a).click(function(){b._baseHide();b._trigger("close");return!1});$(".js_ok",a).click(function(){b._baseHide();b._trigger("ok")}).text(b.options.okText);$(".js_cancel",a).click(function(){b._baseHide();b._trigger("cancel")})},show:function(){this._baseShow()}});
$.widget("hao123.site",{options:{isLanding:!1,userName:""},_create:function(){var a=this.element,b=$.hao123;this.retried=0;this.isFromTopLogin=!1;this.config=b.siteConfig;this.view=b.siteView;this.model=b.siteModel;this.login=HLogin.loginModel;this.loginPopup=$(b.popupTpls.getTpl("login")).login();this.confirmPopup=$(b.popupTpls.getTpl("confirm")).confirm({title:this.config.confirmTitle,text:this.config.confirmText});this.recoverPopup=$(b.popupTpls.getTpl("confirm")).confirm({title:this.config.recoverTitle,
text:this.config.recoverText});this.alertPopup=$(b.popupTpls.getTpl("alert")).alert({title:this.config.alertTitle,text:this.config.alertText});this.topRecomendHint=$(".site-item-recommend-hint",a);this.loading=$(".popup-site-loading",a);this.popContent=$(".popup-site-content",a);this.refresh=$(".js_refresh",a);this.refreshButton=$(".js_refresh-button",a);this.manage=$(".js_manage",a);this.add=$(".js_psite-add",a);this.modify=$(".js_psite-modify",a);this.psite=$(".js_psite",a);this.sugName=$(".js_sug-name",
a);this.sugUrl=$(".js_sug-url",a);this.save=$(".js_psite-save",a);this.saveForeverHint=$(".js_hint-saveForever",a);this.bd=$(".js_bd",a);this.dash=$("<li></li>");this.topRecommend=$(".site-item-recommend",a);this.topRecommendLink=this.topRecommend.find(".js_text");this.topRecommendDelete=$(".js_recommend_delete",a);this.topRecommendHint=$(".site-item-recommend-hint",a);this.context=$("#popup-site-holder");this.psite.appendTo(this.context);this._bind();this.init();this.shaveHintCookie="site_shave_hint";
0<this.topRecommend.length&&(a=this.topRecommend.position(),this.topRecomendHint.css({top:a.top+25,left:a.left-15}));this.model.init(this.view.getSiteData())},init:function(){5<this.options.recommendCount&&(this.options.recommendCount=5);1==this.options.isStatic&&(this.manage.hide(),this.bd.find(".js_item-add").hide());var a=this,b=a.config.flashCookie,d=a.config.baiduCookie,c=$.hao123.cookie;a.isLanding=a.options.isLanding;a.isLanding&&(a.login.signin({isInit:!0,userName:a.options.userName}),a.options.userName||
a.model.getUser());if(a.view.init(a)){var g=c.get(d),f=c.get(b);$.hao123.localcookie.getInstance().localcookie("wait",function(d){f=c.get(b);d&&f&&f!=g?a.model.refresh():(a.bd.find(".js_item-add").show(),a.manage.show())},2E3)}$("#userBar .user-login").click(function(){a.isFromTopLogin=!0;a.loginPopup.login("show");return!1});this._hint();this._ajust();this._delete1()},_initPopupVariable:function(){var a=this.context;this.close=$(".js_psite-close",a);this.sites=$(".js_psite-sites",a);this.placeHolderName=
$(".js_placeholder-name",a);this.placeHolderUrl=$(".js_placeholder-url",a);this.recover=$(".js_psite-recover",a);this.recommendContent=$(".js_psite-recommend-content",a);this.recommendControl=$(".js_psite-recommend-control",a);this.recommendCount=$(".js_psite-recommend-count",a);this.cms=$(".js_psite-cms",a);this.recommend=$(".js_psite-recommend",a);this.recover=$(".js_psite-recover",a);this.sug=$(".js_psite-sug",a);this.hintSug=new TimeHint($(".js_hint-sug",a));this.hintAdded=new TimeHint($(".js_hint-added",
a));this.hintNoicon=new TimeHint($(".js_hint-noicon",a));this.hintSave=new TimeHint($(".js_hint-save",a),6E3);this.addCount=$(".js_add-count",a);this.noDataHint=$(".js_nodata-hint",a);this.hintText=$(".popup-site-hinttext",a);this.hintTextButton=$("span",this.hintText);this.blink=$(".popup-site-blink",a)},_initPopupPopup:function(){var a=this;a.confirmPopup.bind("confirmok",function(){a.loginPopup.login("show");a._hidePsite()});a.confirmPopup.bind("confirmcancel",function(){a._showPopup()});a.confirmPopup.bind("confirmclose",
function(){a._showPopup()});a.loginPopup.bind("loginclose",function(){a.isFromTopLogin?a.isFromTopLogin=!1:a._showPopup()});a.loginPopup.bind("loginok",function(){a._showPopup()});a.recoverPopup.bind("confirmok",function(){a.model.recover()});a.recoverPopup.bind("confirmcancel",function(){a._showPopup()});a.recoverPopup.bind("confirmclose",function(){a._showPopup()})},_initPopupEvent:function(){var a=this;a.hintTextButton.click(function(){a.hintText.remove()});a.save.click(function(){a._hidePsite();
a.loginPopup.login("show");a.saveForeverHint.hide();return!1});a.saveForeverHint.click(function(){$.hao123.cookie.set(a.shaveHintCookie,1);a.saveForeverHint.hide()});a.psite.on("mouseover",".item-added",function(){a.view.onAddedItemOver(this)});a.psite.on("mouseout",".item-added",function(){a.view.onAddedItemOut(this)});a.psite.on("click",".js_recommend",function(){if(!a._checkAdd())return!1;var b=a.view.onItemClick(this);b&&a.model.add(b);return!1});a.psite.on("click",".item-added",function(){var b=
a.view.onAddedClick(this);a.model.doDelete(b);a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url")});return!1});a.recover.click(function(){a._hidePsite();a.recoverPopup.confirm("show");return!1});a.recommendControl.find("a").click(function(){a.view.onRecommendControlClick();a.model.delRecommend();a._trigger("deleteallrecommend");return!1}).hover(function(){a.view.onRcommendDeleteOver(this)},function(){a.view.onRcommendDeleteOut(this)});a.close.click(function(){var b=a.view.onSorted();
a.view.clearError();a.view.update(a.model.sortData(b));a.placeHolderName.show();a.placeHolderUrl.show();$.hao123.popupmask.hide();a._hidePsite();a._trigger("backclick");return!1});a.add.click(function(){if(a._checkAdd()){var b=a.view.onAddClick();b&&a.model.add(b)}return!1});a.modify.click(function(){var b=a.view.onModifyClick();if(!b)return!1;var d=0;if(!a.login.isLogin&&(d=a.model.checkLimit(b.id),517==d))return a.confirmPopup.confirm("show"),a._hidePsite(),a.view.on517(),!1;if(0<d)return a.view.showError(d),
!1;b&&a.model.modify(b);return!1});a.sites.on("click",".js_modify",function(){a.view.onItemModifyClick(this.parentNode);a.model.checkIsShowRecover()||a.view.doBlink();return!1});a.sites.on("click",".js_delete",function(){a.view.onItemDeleteClick(this.parentNode);var b=this.parentNode.getAttribute("data-id");a.model.doDelete(b);a.model.checkIsShowSave()<$.hao123.siteConfig.showSaveMax&&a.saveForeverHint.hide();a._trigger("dodelete",null,{id:b,url:this.parentNode.getAttribute("data-url")});return!1});
a.model.addEventListener("firsted",function(b){a.view.onFirsted(b);$.hao123.setProfile("urls","true")});a.model.addEventListener("recovered",function(b){a.view.onRecovered(b);a._showPopup();$.hao123.setProfile("urls","false");a._trigger("recovered")});a.model.addEventListener("modified",function(b){a.view.onModified(b);a._trigger("modify",null,b)});a.model.addEventListener("cred",function(b){a.view.onCred(b)})},_initPopup:function(){var a=this;a._initPopupVariable();a._initPopupPopup();a._initPopupEvent();
a.siteDrag=new $.hao123.SiteDrag(a.sites,a.dash);a.siteDrag.dragable();a.siteDrag.addEventListener("sorted",function(){a.model.sort(a.view.onSorted().join(","))});a.view.initSug();6==$.hao123.browser.ie&&(a.placeHolderUrl.hide(),a.placeHolderName.hide());0==a.topRecommend.length&&a.model.getCRdata();a.model.checkIsShowRecover()||a.hintText.show()},_showPopup:function(){this.psite.show();$.hao123.popupmask.show()},_checkAdd:function(){var a=0;this.login.isLogin||(a=this.model.checkLimit());if(0<a)return this.confirmPopup.confirm("show"),
this._hidePsite(),!1;a=this.model.checkFull();return 0<a?(this.view.showError(a),!1):!0},_hidePsite:function(){this.view.clearHint();this.psite.hide()},_bindTopRecommend:function(){var a=this;a.topRecommendDelete.click(function(){a.topRecommend.remove();a.topRecommendHint.hide();var b=$(".js_item-add",a.element);b.hasClass("site-item-add-short")&&b.removeClass("site-item-add-short").addClass("site-item-add-normal").append('<span class="site-item-add-text">\u6dfb\u52a0\u7f51\u5740</span>');a.model.delRecombyid(a.topRecommend.attr("data-id"));
a.topRecommend.length=0;a._trigger("deletesync")});a.topRecommendLink.click(function(){a.view.onAddClickSynced(a.view.getTopRecommend());a.model.addClickSync(a.view.getTopRecommend());a.isAddingClickSync=!0;a.topRecommend.removeClass("site-item-recommend")});var b,d;a.topRecommend.mouseenter(function(){window.clearTimeout(d);b=window.setTimeout(function(){a.topRecommendHint.show()},300)});a.topRecommend.mouseleave(function(){window.clearTimeout(b);d=window.setTimeout(function(){a.topRecommendHint.hide()},
300)});a.topRecommendHint.mouseover(function(){window.clearTimeout(d)});a.topRecommendHint.mouseout(function(){d=window.setTimeout(function(){a.topRecommendHint.hide()},300)})},_bind:function(){function a(a){13==a.keyCode&&window.setTimeout(function(){"none"!=b.add.get(0).style.display?b.add.click():b.modify.click()},20)}var b=this;b._bindTopRecommend();$(document).bind("getprof",function(a,c){if(c&&c.urls)switch(result=c.urls,result.code){case 200:c=result.data.sites;b.view.onImported(c);b.model.init(c);
break;default:b._trigger("error",null,{code:result.code+"getrof"})}});b.model.addEventListener("getUser",function(a){a.userName?b.login.otherSignin({userName:a.userName}):b.retried<b.config.retry?(b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code),b.model.getUser()):(b.login.otherSignin({userName:""}),b.retried++,b._trigger("getusererror",null,b.retried+"_"+a.code))});b.model.addEventListener("operated",function(){$.hao123.setProfile("urls","true")});b.model.addEventListener("addSynced",
function(a){b.view.onManageClick(!0,!1);b.view.updatePopup(a);b.loading.hide();b.popContent.show();b.model.getCRdata();b._trigger("addsync",null,a[a.length-1])});b.model.addEventListener("addClickSynced",function(a){b.isAddingClickSync=!1;b.model.getCRdata();b._trigger("addclicksync",null,a)});b.model.addEventListener("added",function(a){b.view.onAdded(a);b.model.checkIsShowSave()>=$.hao123.siteConfig.showSaveMax&&b.view.showSaveMessage();a.type?b._trigger(a.type,null,a):b._trigger("add",null,a)});
b.model.addEventListener("refreshed",function(a){b.view.onRefreshed(a);a&&b._trigger("showrefresh")});b.model.addEventListener("imported",function(a){b.view.onImported(a)});b.model.addEventListener("error",function(a){b._trigger("error",null,{code:a.code+a.src,info:a.info});b.view.showError(a.code)});b.refreshButton.click(function(){b.view.onRefreshClick(b.model.getData());b._trigger("refresh");return!1});b.login.addEventListener("signin",function(a){b.save.hide();b.saveForeverHint.hide();a.isInit?
b._trigger("defaultlogin"):b._trigger("login",null,{login:"login"})});6==$.hao123.browser.ie&&(this.bd.on("mouseover",".js_item-add",function(){$(this).addClass("site-item-add-hover")}),this.bd.on("mouseout",".js_item-add",function(){$(this).removeClass("site-item-add-hover")}));b.sugName.keydown(a);b.sugUrl.keydown(a);b.bd.on("click",".js_item-add",function(){b._trigger("intoaddclick");b._onManageClick()});b.bd.on("click",".js_no-data",function(){b._onManageClick();b._trigger("noneaddclick");return!1});
b.manage.click(function(){b._onManageClick()});b.bd.delegate(".js_text","mousedown",function(){var a={};a.url=this.href;a.id=this.parentNode.getAttribute("data-id");a.status=this.parentNode.getAttribute("data-status");b._trigger("textclick",null,a)})},_onManageClick:function(){this.isManageClicked||(this.isManageClicked=!0,this._initPopup());this.isAddingClickSync?this._trigger("error",null,{code:"addingclicksync"}):0<this.element.find(".site-item-recommend").length?(this.loading.show(),this.popContent.hide(),
this._showPopup(),this.model.addSync(this.view.getTopRecommend())):(this.view.onManageClick(this.model.checkIsShowRecover(),this.model.checkIsShowSave()),this.view.updatePopup(this.model.getData()),this.loading.hide(),this.popContent.show(),this._showPopup(),this._trigger("manageclick"),0>=$("#popup-site-holder .popup-site-recommend-sidenone").length&&this._trigger("managerecommend"))},_hint:function(){if(!("hao123-indexrec4"==window.pageId||1==isStatic)&&!$.hao123.cookie.get("index_site_hint100")){var a=
"<div class='popup-site-hinttext1  #{test}' id='popup-site-hinttext1'><span class='popup-site-hinttext1-text'></span><a href='javascipt:void(0)' class='popup-site-hinttext1-close'></a></div>",b=["pugongying","hehua","fantasy-sea"],d=$("#site .js_site-item"),c=this,g=document.body.className;for(i=0;i<b.length;i++)if(0<=g.indexOf(b[i]))return;(18==d.length||1E4>d.first().attr("data-id")&&16<d.length)&&$(window).load(function(){var b=$("#layout-famoussite");a=12==d.length?$.hao123.format(a,{test:"popup-site-hinttext1-b"}):
$.hao123.format(a,{test:"popup-site-hinttext1-a"});$("#box-site").before(a);c.manage.click(function(){$.hao123.cookie("index_site_hint100",1);$("#popup-site-hinttext1").hide()});$(".js_item-add",b).click(function(){$.hao123.cookie("index_site_hint100",1);$("#popup-site-hinttext1").hide()});$(".popup-site-hinttext1-close",b).click(function(){$.hao123.cookie("index_site_hint100",1);$("#popup-site-hinttext1").hide();return!1});c.login.addEventListener("signin",function(){$("#popup-site-hinttext1").hide()})})}},
_ajust:function(){$(function(){function a(){contentHeight=c.get(0).offsetHeight;g=b.get(0).offsetHeight;erjiHeight=d.get(0).offsetHeight;contentHeight<=sideInitHeight?d.height(h):d.height(contentHeight-g+d.height());0===h&&(h=f+2)}var b=$("#layout-side"),d=$("#layout-erji"),c=$("#layout-content"),g=0,f=0,h=0;sideInitHeight=b.get(0).offsetHeight;h=d.get(0).offsetHeight;a();$("#site").bind("sitebackclick siterecovered siterefresh siteshowrefresh sitelogin",function(){a()})})},_delete1:function(){$(function(){$("#site .js_text").each(function(a,
b){if(null!==window.location.search.match(/[?&]tn=([^&<>'"]+)/)&&"http://www.baidu.com/index.php?tn=divencheng_pg"==b.getAttribute("href",2))return b.href="http://www.baidu.com/index.php?tn=divencheng_pg",!1})})}});(function(){hao.ipad=function(a){a&&!$.hao123.cookie.get("ipds1")&&($(".widget-ipad").show(),$("#js_ipadbtn").bind("click",function(){$.hao123.log.send({position:"ipad"})}),$("#js_ipadclose").bind("click",function(){$.hao123.cookie.set("ipds1","1");$(".widget-ipad").slideUp()}))}})();
$.hao123.search=$.hao123.search||{};
$.hao123.search.config={common:{logoPath:"images/search_logo",delay:200,n:10},tab:{web:{alt:"\u767e\u5ea6\u9996\u9875",url:"http://www.baidu.com/index.php?tn=",action:"http://www.baidu.com/s",q:"word",params:{tn:"divencheng_pg",ie:"utf-8"},sug:{requestQuery:"wd",url:"http://suggestion.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",charset:"gbk",requestParas:{sc:"hao123"}}},mp3:{alt:"\u767e\u5ea6\u97f3\u4e50",url:"http://music.baidu.com/",action:"http://music.baidu.com/search",
q:"key",params:{fr:"hao123",ie:"utf-8"},sug:{charset:"gbk",requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",requestParas:{prod:"mp3",sc:"hao123"}}},video:{alt:"\u767e\u5ea6\u89c6\u9891\u641c\u7d22",url:"http://video.baidu.com/",action:"http://video.baidu.com/v",q:"word",params:{sc:"hao123",ie:"utf-8"},sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",charset:"gbk",requestParas:{prod:"video",sc:"hao123"}}},
image:{alt:"\u767e\u5ea6\u56fe\u7247",url:"http://image.baidu.com/",action:"http://image.baidu.com/i",q:"word",params:{tn:"baiduimage",ct:"201326592",cl:"2",lm:"-1",ie:"utf-8",fm:"hao123"},sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",charset:"gbk",requestParas:{prod:"image",sc:"hao123"}}},tieba:{alt:"\u767e\u5ea6\u8d34\u5427",url:"http://tieba.baidu.com/",action:"http://tieba.baidu.com/f",q:"kw",params:{ie:"utf-8",sc:"hao123"},sug:{requestQuery:"query",
url:"http://tieba.baidu.com/sug",callbackFn:"baiduSugTieba",callbackDataKey:"msg",charset:"gbk",requestParas:{callback:"baiduSugTieba",sc:"hao123"}}},zhidao:{alt:"\u767e\u5ea6\u77e5\u9053",url:"http://zhidao.baidu.com/",action:"http://zhidao.baidu.com/q",q:"word",params:{tn:"ikaslist",ct:"17",ie:"utf-8",sc:"hao123",rn:"20"},sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",charset:"gbk",requestParas:{prod:"zhidao",sc:"hao123"}}},news:{alt:"\u767e\u5ea6\u65b0\u95fb\u641c\u7d22",
url:"http://news.baidu.com/",action:"http://news.baidu.com/ns",q:"word",params:{tn:"news",ie:"utf-8",from:"hao123",sr:0,cl:2,rn:20,ct:1,prevct:"no"},sug:{requestQuery:"wd",url:"http://nssug.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",charset:"gbk",requestParas:{prod:"news",sc:"hao123"}}},map:{alt:"\u767e\u5ea6\u5730\u56fe\u641c\u7d22",url:"http://map.baidu.com/",action:"http://map.baidu.com/m",q:"word",params:{c:1,ie:"utf-8",sc:"hao123"},sug:{requestQuery:"wd",url:"http://map.baidu.com/su",
callbackFn:"baidu.sug",callbackDataKey:"s",charset:"utf-8",requestParas:{cid:1,type:0,newmap:1,sc:"hao123",callback:"baidu.sug"},templ:function(a,b){for(var a=a.s||[],d=0,c=Math.min(a.length,10),g=[],f,h;d<c;d++)if(f=a[d])f=f.split("$"),h=f[0]+f[1],f=f[2]||""+f[3]||"",f||(f=a[d].split("$"),f=f[3]?f[1]:f[0]+f[1],h=!f[3]||0!=f[3]?"":f[0]),f||(f=a[d].split("$"),f=f[3]||"",h=f[0]+f[1]),g.push('<li q="'+f+'"'+(-1<f.indexOf(b)?"":" class=sug-querynull")+">"+f.replace(b,'<span class="sug-query">'+b+"</span>")+
'<span class="sug-sub">'+h+"</span></li>");return"<ol>"+g.join("")+"</ol>"}}}},moreConf:{wenku:{name:"\u6587 \u5e93",url:"http://wenku.baidu.com"},baike:{name:"\u767e \u79d1",url:"http://baike.baidu.com"},jingyan:{name:"\u7ecf \u9a8c",url:"http://jingyan.baidu.com"},hi:{name:"\u7a7a \u95f4",url:"http://hi.baidu.com"},top:{name:"\u98ce\u4e91\u699c",url:"http://top.baidu.com"},dict:{name:"\u8bcd \u5178",url:"http://dict.baidu.com"},s:{name:"\u56e2 \u8d2d",url:"http://tuan.6164.com"},xiangce:{name:"\u76f8 \u518c",
url:"http://xiangce.baidu.com"}}};
$.widget("hao123.search",{options:{defaultTab:"web",curClass:"cur",parameterTpl:'<input type="hidden" name="#{name}" value="#{value}" />',host:window.location.host,config:$.hao123.search.config},_create:function(){var a=this.element,b=this;b.logoLink=$(".js_logo-href",a);b.logoImg=$(".js_logo-img",a);b.tabs=$(".js_tab a",a);b.word=$(".js_word",a);b.btn=$(".js_btn",a);b.btnWrap=$(".js_btnwraper",a);b.parameter=$(".js_p",a);b.form=$(".js_form",a);b.more=$(".js_more",a);b.moreLink=$(".js_morelink",a);
b.wrapWord=$(".box-search_input",a);b.tabConfig=b.options.config.tab;b.commonConfig=b.options.config.common;b.tn=b._getTNAdapter();b._bind();b.sug=G.sug(b.word.get(0),{classNameQuery:"sug-query",classNameQueryNull:"sug-querynull",requestQuery:"wd",charset:"gbk",delay:100,url:"http://suggestion.baidu.com/su",callbackFn:"baidu.sug",callbackDataKey:"s",requestParas:{sc:"hao123"},onMouseSelect:function(){b._trigger("mouseselect",null,{position:b.getCurTab(),title:b.getWord(),sug:1,pageId:window.pageId,
type:"submit"})},onSelect:function(){var a=b.getCurTab();0<=this.i?(b.tabConfig[a].params.f=3,b.tabConfig[a].params.rsp=this.i,b.sug.o.sugId&&(b.tabConfig[a].params.rsv_sug5=b.sug.o.sugId),this.i=-1,$("#js_sug-form1 .js_hn-box").removeClass("hn-box-hover")):(delete b.tabConfig[a].params.f,delete b.tabConfig[a].params.rsp,delete b.tabConfig[a].params.rsv_sug5);b._makePrameters(a);b._sendLog()}});null!=b.tn&&(b.tabConfig.web.params.tn=b.tn,"web"==b.options.defaultTab&&b._switchTab("web"));b.word.get(0).focus();
b.wrapWord.bind("click",function(){b.word.get(0).focus()})},_sendLog:function(){try{0<$("#js_sug-form1 .sug-wrap .hn-copyright").length&&$.hao123.log.send({type:"clicksug",flag:"1"})}catch(a){}},_getTNOld:function(){var a=window.location.search.match(/[?&]tn=([^&<>'"]+)/);return a?a[1]:null},_getTNAdapter:function(){window.haoConfig=window.haoConfig||{};window.haoConfig.config=window.haoConfig.config||{};return haoConfig.config.tn?this._getTNOld():this._getTN()},_getTN:function(){var a=document.URL,
b=window.location.search,d=null;if(d=b.match(/[?&]src=(se_[^&<>'"]+)/i))return d[1];if(/[?&]src=sina(&|$)/.test(b))return"10000401_hao";if(d=b.match(/[?&]tn=([^&<>'"]+)/))return d[1];d=b.match(/[?&]src=([^&<>'"]+)/);null===d&&(d=[],0<=a.indexOf("www.hao123.com/index.html")?d[1]="srcindex":0<=a.indexOf("www.hao123.com/index.htm")?d[1]="srcieak":0<=a.indexOf("www.hao123.com/?vit=fws")&&(d[1]="srcvit"));if(1<d.length){if(/^.+_hao$/.test(d[1]))return d[1];if(!/^360fixwiz$|^baidu$|^desk$/.test(d[1]))return d[1]+
"_hao"}return"divencheng_pg"},getCurTab:function(){return this.tabs.filter("."+this.options.curClass).attr("data-t")},getSug:function(){return this.sug},getWord:function(){return this.word.val()},_makePrameters:function(a){var b=[],a=this.tabConfig[a].params,d;for(d in a)b.push($.hao123.format(this.options.parameterTpl,{name:d,value:a[d]}));this.parameter.html(b.join(""))},_bind:function(){var a=this;this.tabs.click(function(){a._switchTab($(this).attr("data-t"));a.word.get(0).focus();a.word.val(a.word.val());
a.moreLink.hide();return!1});this.word.keydown(function(b){13==b.keyCode&&a._trigger("wordkeydown",null,{position:a.getCurTab(),title:a.getWord(),type:"submit",pageId:window.pageId})});this.btn.mousedown(function(){a.btnWrap.addClass("box-search_btn_click");a._trigger("btnclick",null,{position:a.getCurTab(),title:a.getWord(),type:"submit",pageId:window.pageId,btnclick:1});var b=a.getCurTab();delete a.tabConfig[b].params.rsp;delete a.tabConfig[b].params.f;a._makePrameters(b)}).mouseup(function(){a.btnWrap.removeClass("box-search_btn_click")}).mouseout(function(){a.btnWrap.removeClass("box-search_btn_click")});
this.more.click(function(){a.moreLink.toggle();a._hideHotNews(!0);return!1});$(document).click(function(){a.moreLink.hide();a._hideHotNews(!0)});this.form.submit(function(){var b=a.getCurTab();a._sendLog();"web"==b&&(a.sug.o.sugId?a.tabConfig[b].params.rsv_sug5=a.sug.o.sugId:delete a.tabConfig[b].params.rsv_sug5,a._makePrameters(b),delete a.sug.o.sugId);if(!("tieba"!=b&&"mp3"!=b&&"zhidao"!=b)){var d=a.word.val(),d=d.replace(/[\u3000]/g,""),d=d.replace(/[ ]/g,"");""==d?a.form.attr("action",a.tabConfig[b].url):
a.form.attr("action",a.tabConfig[b].action)}})},_hideHotNews:function(a){0<$("#js_sug-form1 .js_hn-box").length&&($("#js_sug-form1 .js_hn-box").removeClass("hn-box-hover"),a?$("#js_sug-form1 .sug-wrap").hide():$("#js_sug-form1 .js_hn-box").hide())},_showHotNews:function(){0<$("#js_sug-form1 .js_hn-box").length&&($("#js_sug-form1 .js_hn-box").removeClass("hn-box-hover"),$("#js_sug-form1 .js_hn-box").show())},_switchTab:function(a){this.tabs.removeClass(this.options.curClass).filter('[data-t="'+a+'"]').addClass(this.options.curClass);
var b=this.tabConfig[a].url;"web"==a?(b=this.tn?b+this.tn:b+"divencheng_pg",this._showHotNews()):this._hideHotNews();this.logoLink.attr("href",b);this.logoLink.attr("title",this.tabConfig[a].alt);"mp3"==a?this.logoImg.attr("src",this.commonConfig.logoPath+"/yinyue.png"):this.logoImg.attr("src",this.commonConfig.logoPath+"/"+a+".png");this.logoImg.attr("alt",this.tabConfig[a].alt);this._makePrameters(a);this.form.attr("action",this.tabConfig[a].action);b=this.tabConfig[a].sug;this.word.get(0).name=this.tabConfig[a].q;
b.templ=b.templ||!1;b.charset=b.charset;this.sug.reset(this.tabConfig[a].sug)}});
(function(){var a=function(a,d){var c=$("#js_sug-form1 .sug-wrap li"),g=$("#js_sug-form1 .sug-wrap");$(c[0]).attr("action")&&$(c[0]).hasClass("sug-select")&&"none"!=g.css("display")?$.hao123.sugFirstItem=1:($.hao123.sugFirstItem=0,d&&$(c[0]).attr("action")&&$(c[0]).hasClass("sug-select")&&($.hao123.sugFirstItem=1));$.hao123.sugFlag&&(a.exsug=1);$.hao123.sugFirstItem&&(a.exfirst=1);$.hao123.log.send(a);$.hao123.sugFirstItem=0;$.hao123.sugFlag=0};$.hao123.searchInit=function(){$("#search").search().bind("searchmouseselect",
function(b,d){a(d,1)}).bind("searchbtnclick",function(b,d){a(d)}).bind("searchwordkeydown",function(b,d){a(d)})};$(function(){function b(){k.addClass("input_blur");k.blur();var a=k.val();k.focus(function(){k.hasClass("input_blur")&&(a="",k.val(""),k.removeClass("input_blur"))});k.blur(function(){""==k.val()&&(k.val(a),k.addClass("input_blur"))})}function d(){g.removeClass(r)}function c(){for(var a=[],b=0;b<h.length;b++)a.push($.hao123.format(m,{word:h[b].word,"new":1==h[b].isnew?o:"",cls:3>=b+1?"orange":
"dark",index:b+1}));return'<ol class="hot-news">'+a.join("")+"</ol>"+n}var g=$("#js_sug-form1 .js_hn-box"),f=$("#js_sug-form1 .js_hn-tip"),h=[],j=[],e=0,k=$("#js_sug-form1 .js_word"),l=$("#js_sug-form1"),n='<div class="hn-news"></div><div class="hn-copyright">\u7531\u767e\u5ea6\u641c\u7d22<a href="http://top.baidu.com/">\u98ce\u4e91\u699c</a>\u63d0\u4f9b</div>',m='<li q="#{word}" class="sug-querynull"><span class="#{cls}">#{index}</span><span>#{word}</span>#{new}</li>',o='<span class="new">\u65b0!</span>',
r="hn-box-hover";$.getJSON("http://www.hao123.com/sugdata.js",{r:(new Date).getTime()},function(n){for(var m=0;10>m;m++)h.push(n.data[m+1]),1==n.data[m+1].isnew&&e++;0<h.length&&(g.show(),0<e&&"null"==$.hao123.cookie("index_searchhint")&&f.show().find("span").html(e),g.click(function(){g.hasClass(r)?(g.removeClass(r),$("#js_sug-form1 .sug-wrap").hide()):(g.addClass(r),$("#js_sug-form1 .sug-wrap").html(c()).show());f.hide();$.hao123.cookie("index_searchhint",1,{expires:1});a({type:"recommendsug"});return!1}),l.submit(d),
k.keydown(d),0<window.location.search.toLowerCase().indexOf("tn=divencheng_pg")?(k.val("\u795e\u4ed9\u9053"),b()):0>window.location.search.toLowerCase().indexOf("src=")&&0>window.location.search.toLowerCase().indexOf("tn=")||0<h.length&&$.getJSON("http://www.hao123.com/sugcmsdata.js",{r:(new Date).getTime()},function(a){j=h.slice(0,5);var c=Math.floor(10*(Math.random()/2)),a=a[c];0==a&&(a=j[c].word);0!=a&&(k.val(a),b())}))})})})();
(function(a,b){function d(a,b){var c,d;d=!1;c=f.imgs[a];c||(d=new Image,d.onload=function(){var a,b;c.state=k;b=c.callbacks;for(a=b.length;a--;)b[a].call(window);c.callbacks=null;c.image=null},d.onerror=function(){c.state=l;c.callbacks=null;c.image=null},c={state:e,image:d,callbacks:[]},f.imgs[a]=c);switch(c.state){case e:c.callbacks.push(b);break;case k:b()}d&&(d.src=a)}function c(b,c){var e=c||b.src;d(e,function(){b.src=h;b.style.filter=a.hao123.format(j,{src:e})})}function g(){var a=/msie (\d+\.\d+)/i.test(navigator.userAgent)?
+RegExp.$1:void 0;g=function(){return 6==a};return g()}function f(a){g()&&this.each(function(){c(this,a)});return this}var h="http://s0.hao123img.com/img/1L/Aw/2F/mk/ch/o/blank.gif",j='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="#{src}",sizingMethod="scale")',e=1,k=2,l=3;f.imgs={};a.fn[b]=f})(jQuery,"fixpng");
(function(a,b){var d=["info-err","info-msg"];a.widget("hao123.weather",{options:{forecastUrl:"http://app.hao123.com/weather/forecast2.php?callback=?",areaUrl:"http://app.hao123.com/weather/citymenu.php?callback=?",newForecastUrl:"http://www.hao123.com/api/forecast?callback=?",newAreaUrl:"http://www.hao123.com/api/citymenu?callback=?",loadingTpl:"",errorTpl:'\u5929\u6c14\u6570\u636e\u672a\u627e\u5230\uff0c\u8bf7<a href="#" class="js_reset">\u91cd\u8bbe\u5730\u5740</a>',timeoutTpl:'\u52a0\u8f7d\u8d85\u65f6\uff0c\u8bf7<a href="#" class="js_retry">\u91cd\u8bd5</a>',
selectTpl:"<option value=#{id|e}>#{firstchar|e} #{name|e}</option>",selectEmptyTpl:"<option>\u52a0\u8f7d\u4e2d...</option>",showTipKey:"weatherTip",timeout:5E3,province:b,city:b,district:b,sample:0},_ifSample:function(){var a=(new Date).getTime(),b=0.99*Math.min(Math.max((a-13552812E5)/1512E5,0),1)+0.02,d=Math.random(),h=-1;try{h=haoConfig.config.feed}catch(j){}return 0>h?13552812E5>a?!1:d<b?!0:!1:d<h?!0:!1},_create:function(){var b=this.element;this.options.forecastUrl=this.options.newForecastUrl;
this.options.areaUrl=this.options.newAreaUrl;this.options.sample=1;this.areaMap={};this.$info=a(".js_info",b);this.$view=a(".js_view",b);this.$control=a(".js_control",b);this.$edit=a(".js_modify",this.$view);this.$detail=a(".js_detail",this.$view);this.$today=a(".js_today",this.$view).weathericon();this.$tommrrow=a(".js_tomorrow",this.$view).weathericon();this.$tip=a(".js_tip",this.$view);this.$provinceSelect=a(".js_province",this.$control);this.$citySelect=a(".js_city",this.$control);this.$districtSelect=
a(".js_district",this.$control);this.$saveBtn=a(".js_save",this.$control);this.$cancleBtn=a(".js_cancle",this.$control);this._bindEvent()},_init:function(){var a=this.options;this.load(a.province,a.city,a.district)},destroy:function(){a.Widget.prototype.destroy.call(this)},_bindEvent:function(){var c=this,d=c.options;c.element.bind("weatherbeforload",function(){c._info(d.loadingTpl)}).bind("weatherafterload",function(b,h){var j=c._parseData(h);j?(c._setOption("province",j.province),c._setOption("city",
j.city),c._setOption("district",j.district),c._render(j),c._switchView(1)):c._info(d.errorTpl,0,!0,function(){a(".js_reset",c.$info).click(function(a){c._trigger("selectchange",a);c._switchView(2);return!1})})}).bind("weathertimeout",function(b,h){c._info(d.timeoutTpl,0,!0,function(){a(".js_retry",c.$info).click(function(){c.load(h.province,h.city,h.district);return!1})})}).bind("weatherselectchange",function(a,d){d.province===b?c._loadProvince():d.city===b?c._loadCity(d.province):d.district===b&&
c._loadDistrict(d.province,d.city)});c.$edit.click(function(){var a={};c._loadSelect(c.$provinceSelect,a,d.province);a.province=d.province;c._loadSelect(c.$citySelect,a,d.city);a.city=d.city;c._loadSelect(c.$districtSelect,a,d.district);c._switchView(2);return!1});c.$tip.click(function(){a.hao123.storage.getInstance().storage("val",d.showTipKey,(new Date).toDateString());c.$tip.hide()});c.$saveBtn.click(function(){var a=c._getSelect();c.load(a.province,a.city,a.district)});c.$cancleBtn.click(function(){c._switchView(1);
return!1});c.$provinceSelect.change(function(a){c._trigger("selectchange",a,{province:c.$provinceSelect.val()})});c.$citySelect.change(function(a){c._trigger("selectchange",a,{province:c.$provinceSelect.val(),city:c.$citySelect.val()})})},_switchView:function(b){a.each([this.$info,this.$view,this.$control],function(a,d){a==b?d.show():d.hide()})},_info:function(b,g,f,h){var j,g=parseInt(g,10);j=d[g]||d[1];this.$info.removeClass(d.join(" ")).addClass(j);f?this.$info.html(b):this.$info.text(b);a.isFunction(h)&&
h();this._switchView(0);try{0==g&&a.hao123.log.send({type:"weather",sample:this.options.sample,errorType:b==this.options.timeoutTpl?"timeout":"error"})}catch(e){}},_getAreaName:function(c,d,f){var h=this.areaMap,j,e,k,l;switch(arguments.length){case 0:return b;case 1:j=this._genAreaId();e=c;break;case 2:j=this._genAreaId(c);e=d;break;default:j=this._genAreaId(c,d),e=f}k=!1;h[j]!==b&&a.each(h[j],function(a,b){b.id==e&&(l=b.name,k=!0);return!k});return k?l:b},load:function(c,d,f){var h=this,j=h.options,
e=j.forecastUrl,k,l,n;h._trigger("beforload");k=c!==b&&d!==b&&f!==b?{t:2,provice:h._getAreaName(c),city:h._getAreaName(c,d),district:h._getAreaName(c,d,f)}:{t:1};l=!1;a.getJSON(e,k,function(a){clearTimeout(n);l||h._trigger("afterload",null,a)});n=setTimeout(function(){l=!0;h._trigger("timeout",null,{provice:c,city:d,district:f})},j.timeout)},_parseData:function(b){var d;if(!b||!b.Name||!(b.forecast&&1<b.forecast.length))return!1;d={province:b.pid,city:b.cid,district:b.zid,name:b.Name,url:b.Link_1,
forecast:[]};a.each(["\u4eca\u5929","\u660e\u5929"],function(a,h){d.forecast[a]={weather:b.forecast[a].Weather,temperaMin:b.forecast[a].Tmin,temperaMax:b.forecast[a].Tmax,url:b.URL,day:h}});return d},_render:function(b){var d=this,f=d.options,h;d.$edit.text(b.name);d.$detail.attr("href","http://www.hao123.com/tianqi");d.$today.weathericon("render",b.forecast[0]);d.$tommrrow.weathericon("render",b.forecast[1]);13488012E5<new Date&&(b=b.forecast[0].weather,h=b.indexOf("\u8f6c"),0<h&&(b=b.substring(0,
h)),/(\u5c0f|\u4e2d|\u5927|\u66b4|\u9635)\u96ea/.test(b)?(b=a.hao123.storage.getInstance(),b.storage("val",f.showTipKey,function(a){a!=(new Date).toDateString()&&d.$tip.attr("href","http://www.hao123.com/tianqi").show()})):d.$tip.hide())},_loadProvince:function(a){var b=this,d=b.$provinceSelect;b._loadSelect(d,{},a,function(){b._trigger("selectchange",null,{province:d.val()})})},_loadCity:function(a,b){var d=this,h=d.$citySelect;d._loadSelect(h,{province:a},b,function(){d._trigger("selectchange",
null,{province:a,city:h.val()})})},_loadDistrict:function(a,b,d){var h=this,j=h.$districtSelect;h._loadSelect(j,{province:a,city:b},d,function(){h._trigger("selectchange",null,{province:a,city:b,district:j.val()})})},_loadSelect:function(c,d,f,h){var j=this.options;this._loadArea(d.province,d.city,function(d){var g=[];a.each(d,function(b,c){g.push(a.hao123.format(j.selectTpl,c))});c.html(g.join(""));f!==b&&setTimeout(function(){c.val(f)},0);a.isFunction(h)&&h()})},_genAreaId:function(a,d){var f=["ROOT"];
a!==b&&(f.push(a),d!==b&&f.push(d));return f.join()},_loadArea:function(c,d,f){var h=this.options,j=this.areaMap,e={},k=this._genAreaId(c,d);j[k]!==b?f(j[k]):(c!==b&&(e.pid=c,d!==b&&(e.cid=d)),a.getJSON(h.areaUrl,e,function(a){a&&(j[k]=a);f(a)}))},_getSelect:function(){return{province:this.$provinceSelect.val(),city:this.$citySelect.val(),district:this.$districtSelect.val()}}});a.widget("hao123.weathericon",{options:{tpl:'<a href="http://www.hao123.com/tianqi" title="#{desc|e}"><img class="js_img" width="48" height="48" src="#{icon|e}"/><p class="name">#{day}</p><p>#{temp|e}</p></a>',
iconTpl:"http://s0.hao123img.com/index/images/weather/icon/#{id}.png",defaultIcon:"a0",iconMap:{"\u6674":"a0","\u591a\u4e91":"a1","\u9634":"a2","\u9635\u96e8":"a3","\u96f7\u9635\u96e8":"a4","\u96f7\u9635\u96e8\u4f34\u6709\u51b0\u96f9":"a5","\u96e8\u5939\u96ea":"a6","\u5c0f\u96e8":"a7","\u4e2d\u96e8":"a8","\u5927\u96e8":"a9","\u66b4\u96e8":"a10","\u5927\u66b4\u96e8":"a11","\u7279\u5927\u66b4\u96e8":"a12","\u9635\u96ea":"a13","\u5c0f\u96ea":"a14","\u4e2d\u96ea":"a15","\u5927\u96ea":"a16","\u66b4\u96ea":"a17",
"\u96fe":"a18","\u51bb\u96e8":"a19","\u6c99\u5c18\u66b4":"a20","\u5c0f\u96e8-\u4e2d\u96e8":"a21","\u5c0f\u5230\u4e2d\u96e8":"a21","\u4e2d\u96e8-\u5927\u96e8":"a22","\u4e2d\u5230\u5927\u96e8":"a22","\u5927\u96e8-\u66b4\u96e8":"a23","\u5927\u5230\u66b4\u96e8":"a23","\u66b4\u96e8-\u5927\u66b4\u96e8":"a24","\u66b4\u96e8\u5230\u5927\u66b4\u96e8":"a24","\u5927\u66b4\u96e8-\u7279\u5927\u66b4\u96e8":"a25","\u5927\u66b4\u96e8\u5230\u7279\u5927\u66b4\u96e8":"a25","\u5c0f\u96ea-\u4e2d\u96ea":"a26","\u5c0f\u5230\u4e2d\u96ea":"a26",
"\u4e2d\u96ea-\u5927\u96ea":"a27","\u4e2d\u5230\u5927\u96ea":"a27","\u5927\u96ea-\u66b4\u96ea":"a28","\u5927\u5230\u66b4\u96ea":"a28","\u6d6e\u5c18":"a29","\u626c\u6c99":"a30","\u5f3a\u6c99\u5c18\u66b4":"a31"}},render:function(b){var d=this.options,f=this._getWeather(b.weather),h=this._getIcon(f),j=this._getTempera(b.temperaMin,b.temperaMax);this.element.html(a.hao123.format(d.tpl,{day:b.day,url:b.url,desc:f,icon:h,temp:j}));a(".js_img",this.element).fixpng()},_getIcon:function(b){var d=this.options;
return a.hao123.format(d.iconTpl,{id:d.iconMap[b]||d.defaultIcon})},_getTempera:function(b,d){b=a.trim(b);d=a.trim(d);return b==d?b+"\u2103":d+" ~ "+b+"\u2103"},_getWeather:function(a){var b=a.indexOf("\u8f6c");0<b&&(a=a.substring(0,b));return a}})})(jQuery);
(function(){$.widget("hao123.mail",{options:{isShow:!1,top:null,left:null,offsetX:0,offsetY:0,selectListId:"",selectListCls:"mail-list",optionHoverCls:"option-hover",selectMouseDownCls:"mouse-down",mails:[{mail:"163",name:"@163.com",action:"http://reg.163.com/CheckUser.jsp",params:{url:"http://entry.mail.163.com/coremail/fcg/ntesdoor2?lightweight=1&verifycookie=1&language=-1&style=15",username:"#{u|e}",password:"#{p|e}"}},{mail:"126",name:"@126.com",action:"https://reg.163.com/logins.jsp",params:{domain:"126.com",
username:"#{u|e}@126.com",password:"#{p|e}",url:"http://entry.mail.126.com/cgi/ntesdoor?lightweight%3D1%26verifycookie%3D1%26language%3D0%26style%3D-1"}},{mail:"sina",name:"@sina.com",action:"https://login.sina.com.cn/sso/login.php",params:{username:"#{u|e}@sina.com",password:"#{p|e}",entry:"freemail",gateway:0,encoding:"UTF-8",url:"http://mail.sina.com.cn/",returntype:"META"}},{mail:"yahoocomcn",name:"@yahoo.com.cn",action:"https://edit.bjs.yahoo.com/config/login",params:{login:"#{u|e}@yahoo.com.cn",
passwd:"#{p|e}",domainss:"yahoo",".intl":"cn",".src":"ym"}},{mail:"yahoocn",name:"@yahoo.cn",action:"https://edit.bjs.yahoo.com/config/login",params:{login:"#{u|e}@yahoo.cn",passwd:"#{p|e}",domainss:"yahoocn",".intl":"cn",".done":"http://mail.cn.yahoo.com/inset.html"}},{mail:"sohu",name:"@sohu.com",action:"http://passport.sohu.com/login.jsp",params:{loginid:"#{u|e}@sohu.com",passwd:"#{p|e}",fl:"1",vr:"1|1",appid:"1113",ru:"http://login.mail.sohu.com/servlet/LoginServlet",ct:"1173080990",sg:"5082635c77272088ae7241ccdf7cf062"}},
{mail:"yeah",name:"@yeah.net",action:"https://reg.163.com/logins.jsp",params:{domain:"yeah.net",username:"#{u|e}@yeah.net",password:"#{p|e}",url:"http://entry.mail.yeah.net/cgi/ntesdoor?lightweight%3D1%26verifycookie%3D1%26style%3D-1"}},{mail:"139",name:"@139.com",action:"https://mail.10086.cn/Login/Login.ashx",params:{UserName:"#{u|e}",Password:"#{p|e}",clientid:"5015"}},{mail:"tom",name:"@tom.com",action:"http://login.mail.tom.com/cgi/login",params:{user:"#{u|e}",pass:"#{p|e}"}},{mail:"21cn",name:"@21cn.com",
action:"http://passport.21cn.com/maillogin.jsp",params:{UserName:"#{u|e}@21cn.com",passwd:"#{p|e}",domainname:"21cn.com"}},{mail:"renren",name:"\u4eba\u4eba\u7f51",action:"http://passport.renren.com/PLogin.do",params:{email:"#{u|e}",password:"#{p|e}",origURL:"http://www.renren.com/Home.do",domain:"renren.com"}},{mail:"51",name:"51.com",action:"http://passport.51.com/login.5p",params:{passport_51_user:"#{u|e}",passport_51_password:"#{p|e}",gourl:"http%3A%2F%2Fmy.51.com%2Fwebim%2Findex.php"}}],links:[{name:"\u652f\u4ed8\u5b9d",
url:"https://www.alipay.com/user/login.htm"},{name:"\u767b\u5f55\u767e\u5ea6",url:"https://passport.baidu.com/v2/?login"},{name:"@qq.com",url:"http://mail.qq.com"},{name:"QQ\u7a7a\u95f4",url:"http://qzone.qq.com/index.html"},{name:"webqq",url:"http://web2.qq.com"},{name:"\u65b0\u6d6a\u5fae\u535a",url:"http://weibo.com/login.php"},{name:"@gmail.com",url:"http://mail.google.com/mail/"},{name:"@hotmail.com",url:"http://www.hotmail.com"},{name:"\u5f00\u5fc3\u7f51",url:"http://www.kaixin001.com"}]},_create:function(){this.render();
this.initEmail();this.bind();-1<window.navigator.userAgent.toLowerCase().indexOf("se")&&this.repairSogouBrower()},initEmail:function(){var a=$.hao123.cookie.get("HAOMAILSV");this.userEl.val($.hao123.cookie.get("HAOMAILUN")||"");this.pwdEl.val("");for(var b=this.options.mails.length,d=0;d<b;d++)if(this.options.mails[d].mail==a){this.formEl.attr("action",this.options.mails[d].action);var c=this.options.mails[d].name,c=9<c.length?c.substr(0,9)+"...":c;this.selectLabelEl.text(c);this.optionBoxEl.attr("selectindex",
d)}this.initMsgTip()},initMsgTip:function(){""==this.pwdEl.val()?this.pwdEl.next(".wm-tip").show():this.pwdEl.next(".wm-tip").hide();""==this.userEl.val()?this.userEl.next(".wm-tip").show():this.userEl.next(".wm-tip").hide()},destroy:function(){this.optionBoxEl.remove();this.unBindWindow();this.unBindDocument();$.Widget.prototype.destroy.call(this)},render:function(){this.formEl=$(".js_mailForm",this.element);this.userEl=$(".js_userName",this.element);this.pwdEl=$(".js_pwd",this.element);this.inputOuter=
$(".js_inputOuter",this.element);this.selectEl=$(".js_select",this.element);this.selectLabelEl=$(".js_selectLabel",this.element);this.mailParasEl=$(".js_mailParas",this.element);this.tipLabelEl=$(".wm-tip",this.element);this.docEl=$(document);this.winEl=$(window);for(var a=[],b=this.options.mails.length,d=this.options.links.length,c=this.selectEl.height(),g=this.selectEl.position(),f=0;f<b;f++)a.push('<li dn="'+f+'">'+this.options.mails[f].name+"</li>");a.push('<li class="no">\u4ee5\u4e0b\u5f39\u51fa\u767b\u5f55</li>');
for(b=0;b<d;b++)a.push('<li><a href="'+this.options.links[b].url+'">'+this.options.links[b].name+"</a></li>");this.options.selectListId=this.options.selectListId||$(this.element).attr("id")+"_list";this.options.selectListCls=this.options.selectListCls||this.options.selectListId;this.options.top=this.options.top||g.top+c+this.options.offsetY;this.options.left=this.options.left||g.left+this.options.offsetX;$("#layoutContainer").append('<ul id="'+this.options.selectListId+'"  class="'+this.options.selectListCls+
'" style="display:none;position:absolute;" selectIndex="0">'+a.join("")+"</ul>");this.optionBoxEl=$("#"+this.options.selectListId);this.optionEls=$("#"+this.options.selectListId+" li");this.optionBoxEl.css({top:this.options.top,left:this.options.left});this.options.isShow&&this.show()},reSetPosition:function(){var a=this.selectEl.height(),b=this.selectEl.position();this.optionBoxEl.css({top:b.top+a+this.options.offsetY,left:b.left+this.options.offsetX})},bindInputOuterClick:function(){this.inputOuter.bind("click",
function(a){"span"==a.target.nodeName.toLowerCase()&&$(this).children("input").focus()})},bindOptionHover:function(){var a=this,b=function(b){a.clearSelected();$(b).hasClass("no")||$(b).toggleClass(a.options.optionHoverCls)};this.optionEls.hover(function(){b(this)},function(){b(this)})},bindOptionClick:function(){var a=this;this.optionEls.bind("mouseup",function(){var b=$(this).attr("dn");isNaN(parseInt(b))?$(this).hasClass("no")||(a.hide(),$.hao123.log.send({type:"mail",index:$(this).text()})):(a.saveOption(b),
a.hide(),a.formEl.attr("action",a.options.mails[parseInt(b)].action))});this.optionBoxEl.bind("mouseout",function(){a.clearSelected()});this.optionBoxEl.bind("mousedown",function(a){a.stopPropagation()})},bindSelect:function(){var a=this;a.selectEl.bind("mousedown",function(b){a.toggleShow();$(this).addClass(a.options.selectMouseDownCls);b.stopPropagation()});a.selectEl.bind("mouseup",function(){$(this).removeClass(a.options.selectMouseDownCls)})},bindDocument:function(){var a=this;this.docEl.bind("mousedown",
function(){a.hide()})},bindWindow:function(){var a=this;this.winEl.bind("resize",function(){a.hide();a.reSetPosition()})},unBindWindow:function(){this.winEl.unbind("resize")},unBindDocument:function(){this.docEl.unbind("mousedown")},bindSubmit:function(){var a=this;this.formEl.bind("submit",function(){var b=parseInt(a.optionBoxEl.attr("selectindex")),b=isNaN(b)?0:b,d=a.userEl.val(),c=a.pwdEl.val(),g=[];if(!a.trim(d))return alert("\u8bf7\u8f93\u5165\u60a8\u7684\u90ae\u7bb1\u8d26\u53f7\uff0c\u767b\u5f55\u60a8\u7684\u90ae\u7bb1"),
a.userEl.focus(),!1;if(!a.trim(c))return alert("\u8bf7\u8f93\u5165\u60a8\u7684\u90ae\u7bb1\u5bc6\u7801\uff0c\u767b\u5f55\u60a8\u7684\u90ae\u7bb1"),a.pwdEl.focus(),!1;$.hao123.cookie.set("HAOMAILUN",d);$.hao123.cookie.set("HAOMAILSV",a.options.mails[b].mail);$.hao123.log.send({type:"mail",index:a.options.mails[b].name});a.pwdEl.val("");for(var f in a.options.mails[b].params)g.push('<input name="'+f+'" value="'+a.format(a.options.mails[b].params[f]+"",{u:d,p:c})+'" type="hidden">');a.mailParasEl.html(g.join(""))})},
repairSogouBrower:function(){var a=this;a.options.timer=setTimeout(function(){a.initMsgTip();a.options.timer&&clearTimeout(a.options.timer)},560)},bindTipMsg:function(){this.userEl.bind("focus",function(){$(this).next(".wm-tip").hide()});this.pwdEl.bind("focus",function(){$(this).next(".wm-tip").hide()});this.userEl.bind("blur",function(){""==$(this).val()&&$(this).next(".wm-tip").show()});this.pwdEl.bind("blur",function(){""==$(this).val()&&$(this).next(".wm-tip").show()})},bind:function(){this.bindInputOuterClick();
this.bindOptionHover();this.bindOptionClick();this.bindSelect();this.bindSubmit();this.bindWindow();this.bindTipMsg()},trim:function(a){return $.trim(a)},format:function(a,b){return $.hao123.format(a,b)},getSelectedIndex:function(){var a=this.optionBoxEl.attr("selectIndex");return a=isNaN(parseInt(a))?0:parseInt(a)},clearSelected:function(){var a=this;this.optionEls.each(function(){$(this).removeClass(a.options.optionHoverCls)})},selectOption:function(a){0>a?this.clearSelected():(this.clearSelected(),
$("li:eq("+a+")",this.optionBoxEl).toggleClass(this.options.optionHoverCls))},saveOption:function(a){this.optionBoxEl.attr("selectindex",a);a=$("li:eq("+a+")",this.optionBoxEl).text();a=9<a.length?a.substr(0,9)+"...":a;this.selectLabelEl.text(a)},show:function(){this.options.isShow=!0;this.optionBoxEl.show();this.bindDocument()},hide:function(){this.options.isShow=!1;this.optionBoxEl.hide();this.unBindDocument()},toggleShow:function(){this.options.isShow?this.hide():this.show()},isShow:function(){return this.options.isShow}})})();
(function(){var a=function(a,d,c,g,f,h){return a=$.hao123.format('<div class="box-logo-inner" style="margin-top:7px;_margin-top:8px;"><object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="#{4}" height="#{5}" class="holiday-logo"><param name="movie" value="#{0}"><param name="wmode" value="transparent"><\!--[if !IE]>--\><object type="application/x-shockwave-flash" data="#{0}" width="#{4}" height="#{5}" name="holiday-logo" class="holiday-logo"><param name="wmode" value="transparent"><\!--<![endif]--\><a class="hao123-img-logo" href="#{2}" target="_self"><img width="#{4}" height="#{5}" src="#{1}" alt="hao123" title="#{3}"></a><\!--[if !IE]>--\></object><\!--<![endif]--\></object></div><div style="position: absolute;height:#{5}px;width:#{4}px;z-index:10;top: 10px;left: 0px;"><a href="#{2}" title="#{3}" style="display:block;width:#{4}px;height:#{5}px;background:url(http://s0.hao123img.com/img/1L/Aw/2F/mk/ch/o/blank.gif);"></a></div>',
c,d,a,g,f||210,h||68)};hao.header=function(){$(function(){$("#mail").mail({offsetX:-1,offsetY:2})});$("#weather").weather();if(baidu.swf.version&&$("#box-logo").attr("swfurl")){var b=$("#box-logo"),d=b.attr("swfurl"),c=$("#indexLogo").attr("href"),g=$("#indexLogo img").attr("src"),f=$("#indexLogo img").width()||210,h=$("#indexLogo img").height()||68,j=$("#indexLogo").attr("title"),d=a(c,g,d,j,f,h);b.css("position","relative");b.html(d)}else(function(a){var b=a.attr("src"),b=b.replace(/^(.+)\.png(\?.*)?$/,
"$1-24.png$2");a.fixpng(b)})($("#indexLogo img"))}})();(function(a){a.widget("hao123.favorite",{options:{url:"http://www.hao123.com",title:"hao123_\u4e0a\u7f51\u4ece\u8fd9\u91cc\u5f00\u59cb"},_init:function(){var b=this.element;a.hao123.browser.ie&&b.show()},_create:function(){this.$el=a(".js_favorite",this.element);this._bindEvent()},_bindEvent:function(){var a=this.options;this.$el.bind("click",function(){window.external&&window.external.AddFavorite(a.url,a.title);return!1})}})})(jQuery);
$.widget("hao123.pan",{options:{flag:!1,cacheData:null,url:"http://www.hao123.com/api/mypan/"},_create:function(){var a=this;a.element.hover(function(){HLogin.loginModel.isLogin&&a._processMouseOver()},function(b){HLogin.loginModel.isLogin&&0>=$(b.toElement).parent(".pan-info").length&&a._processMouseOut()})},_processMouseOver:function(){var a=this,b=$.hao123.cookie("FLASHID")||$.hao123.cookie("BAIDUID"),b=b.substr(0,32);a.options.cacheData?a._render():$.ajax({type:"GET",url:a.options.url+"?key="+Math.ceil(100*Math.random())+
"&c="+b,dataType:"json",success:function(b){if(200==b.code)try{var c=b.data;c.width=Math.round(140*(c.used/c.quota))||0;var g=c.quota-c.used,g=g/1073741824;c.surplus=1024<g?Math.round(1E3*(g/1024))/1E3+"T":Math.round(100*g)/100+"G";c.quota/=1073741824;c.quota=Math.round(100*c.quota)/100+"G";c.used/=1048576;1024>c.used?c.used=Math.round(10*c.used)/10+"M":(c.used/=1024,c.used=Math.round(100*c.used)/100+"G");a.options.cacheData=c;a._render(c)}catch(f){a.options.cacheData=null}},complete:function(b){0<
b.responseText.indexOf("error")&&a.hide()}})},_processMouseOut:function(){this.hide()},_render:function(a){var a=a||this.options.cacheData,b=this.element.parent(".pan"),a=$.hao123.format('<div class="pan-info"><a hidefocus="true" href="http://pan.baidu.com?frm=hao123"><div class="g_clr"><div style="width:140px;background:#e1e1e1;height:5px;font-size:0px;line-height:0px;margin:5px 0px 0px 4px;"><div style="width:#{2}px;height:5px;background:#97c853;"></div></div><div class="pan-total" style="display:none;">#{0}</div></div><div style="margin-left:4px;margin-top:3px;">\u7f51\u76d8\u5269\u4f59\u5bb9\u91cf#{1}</div></a></div>',
a.quota,a.surplus,a.width);b.append(a);this.show();var d=this;d.options.panInfoEl=$(".pan-info",b);d.options.panInfoEl.hover(function(){b.hasClass("js_panhover")||d.show()},function(){d.hide()})},show:function(){this.element.parent(".pan").addClass("js_panhover")},hide:function(){this.element.parent(".pan").removeClass("js_panhover")}});
(function(){$.widget("hao123.skin",{options:{debug:!1,isStatic:0,beforeTarget:"#layoutContainer",url:"http://www.hao123.com/api/getallskins/",setUrl:"http://www.hao123.com/api/setskinkey/",getUserUrl:"http://www.hao123.com/api/getuserskin/",defaultSkin:"",curSkin:"",lastSubmitSkin:"",submitSkin:"",lastSkin:"",curColumnClass:"",lastColumnClass:"",cachePages:{},duration:250,cacheData:null,beforeTargetEl:null,skinLibInit:!1,skinLibIfShow:!1,tipClass:".widget-userbar .js_tip",defaultSkinName:"",defaultCssUrl:"",tipTimer:0,sTimer:13599468E5,eTimer:136107E7,cjCloseEl:null,
tipMobileUrl:"http://s1.hao123img.com/index/images/mobile_tip.png",tipImgUrl1:"http://s1.hao123img.com/img/10/AT/dm/AH/EQ/R/deskicon.png",tipImgUrl:"http://s1.hao123img.com/img/5z/Ew/xR/66/BO/G/tip_img2.png",tipCloseImgUrl:"http://s1.hao123img.com/img/Bw/1L/dh/mU/5h/f/downtodesk-close.png"},_create:function(){this.options.bodyEl=$("body");this.options.tipEl=this.options.tipEl||$(this.options.tipClass);this.options.moreEl=$(".more",this.element);this.bindLoginIn();this.bindSelfhood();1==this.options.isStatic&&
this.processStatic()},processStatic:function(){var a=this,b=a.options.getUserUrl+"?c="+a.getBaiduCookie()+"&r="+(new Date).getTime();$.ajax({type:"GET",url:b,dataType:"json",success:function(d){var c=d.skinName;b=d[a.options.debug?"skinDebugCss":"skinCss"];a.options.lastSkin=a.options.curSkin;a.options.curSkin=c;a.options.lastSubmitSkin=c;a.options.submitSkin=c;a.selectedSkin();a.viewSkin(c,b)},error:function(){}})},bindLoginIn:function(){var a=this;HLogin.loginModel.addEventListener("signin",function(b){b.isInit||
$(document).bind("getprof",function(b,c){var g=c.skin.skinName;url=c.skin[a.options.debug?"skinDebugCss":"skinCss"];a.options.lastSkin=a.options.curSkin;a.options.curSkin=g;a.options.lastSubmitSkin=g;a.options.submitSkin=g;a.selectedSkin();a.viewSkin(g,url)})})},bindSelfhood:function(){var a=this;a.element.bind("click",function(b){a.processSelfhoodClick(b);return!1})},bindTipClick:function(){var a=this;this.options.tipEl.bind("click",function(){$.hao123.cookie.set("skinTip8",1);a.options.tipEl.fadeOut();
a.processByAction("skin|shengdanjie")})},bindDownToDesk:function(){var a=this,b=location.href,d;try{$("#downToDesk")&&$("#downToDesk").bind("click",function(){$.hao123.cookie.set("skinTip6",1);a.hideTip();d=-1<b.indexOf("?")?b.substring(b.indexOf("?"),b.length):"";"true"!=$(this).attr("hrefFlag")&&($(this).attr("href",$(this).attr("href")+d),$(this).attr("hrefFlag","true"))})}catch(c){}},initTip:function(){var a=this;this.options.tipEl.hover(function(){$(this).addClass("tip-hover")},function(){$(this).removeClass("tip-hover")});
this.options.tipEl.bind("click",function(){a.processByAction("skin|chunjie")})},log:function(a){var b=currentProfile.skin;!a&&(!b||"null"==b)&&HLogin.loginModel.isLogin?(b=this.bodyEl.attr("class"),$.hao123.log.send({pageId:window.pageId,skin:b,islogin:1})):"null"!=a&&$.hao123.log.send({pageId:window.pageId,skin:a,islogin:0})},processSelfhoodClick:function(a){(a=$(a.target).attr("action"))&&this.processByAction(a);return!1},processByAction:function(a){a=a.split("|");switch(a[0]){case "skin":this.options.lastSkin=
this.options.curSkin;this.options.curSkin=a[1];this.options.lastSubmitSkin=this.options.submitSkin;this.options.submitSkin=a[1];this.selectedSkin();this.viewSkin();this.setSkinToCookie();$.hao123.log.send({skin:this.options.curSkin,type:"skin"});break;case "check":this.options.lastSkin=this.options.curSkin;this.options.curSkin=$("#js_skin-checkbox"+a[1]).val();this.selectedSkin(this.options.curSkin,a[1]);this.viewSkin();break;case "submit":this.saveSkin();break;case "consel":this.canselSkin();break;
case "reset":this.resetSkin();break;case "change-column":this.changeColumn(a[1]||"");break;case "prev-page":this.prevPage();break;case "next-page":this.nextPage();break;case "skin-more":this.options.beforeTargetEl||(this.options.beforeTargetEl=$(this.options.beforeTarget)||$(".layout-container")),this.options.initSkinLib?this.canselSkin():this.initSkinLib(),$.hao123.log.send({skin:"more",type:"skin"})}},initSkinLib:function(){if(this.options.cacheData)this.renderSkinLib(b);else{var a=this,b=this.getRequestParamters();
a.options.lockedFlag||(a.options.lockedFlag=!0,$.ajax({type:"GET",url:a.options.url,data:b,dataType:"json",success:function(b){a.options.cacheData=b;a.renderSkinLib(b)},error:function(){},complete:function(){a.options.lockedFlag=!1}}))}},renderSkinLib:function(a){if((a=a||this.options.cacheData)&&a.config&&a.resource){var b=a.config,d=b.data,c=d.length,g="",f="",h=null,j=0;this.options.defaultSkin=a.resource["hao123-default"].skinName||"";this.options.curSkin=this.options.bodyEl.attr("class")||this.options.defaultSkin;
this.options.lastSubmitSkin=this.options.submitSkin=this.options.curSkin;h="";for(a=0;a<c;a++)if(!(0>=d[a].skins.length)){this.storagePage(a+1,d[a].skins.length);d[a].classEnName==b.defaultColumn?(this.options.curColumnClass=a+1,h=0==a?"js_skinclass"+(a+1)+" title curfirst":a==c-1?"js_skinclass"+(a+1)+" last cur":"js_skinclass"+(a+1)+" title cur"):h=a==c-1?"js_skinclass"+(a+1)+" last":"js_skinclass"+(a+1)+" title";for(var g=g+('<li class="'+h+'"><a action="change-column|'+(a+1)+'">'+d[a].className+
"</a></li>"),e="",h=d[a].skins,j=6>h.length?h.length:6,k=0;k<j;k++)this.options.curSkin==h[k].skinName?(this.options.curSkinDivTag=a+1+"_"+(k+1),e+='<li class="skinlib-item js_sitem'+(a+1)+"_"+(k+1)+' cur"><div class="sitem-bg"></div><div class="sitem"><img action="check|'+(a+1)+"_"+(k+1)+'" src="'+h[k].bg_thumb+'" /><label for="js_skin-checkbox'+(a+1)+"_"+(k+1)+'"><input id="js_skin-checkbox'+(a+1)+"_"+(k+1)+'" checked="checked" name="recommand'+(a+1)+"_"+(k+1)+'" action="check|'+(a+1)+"_"+(k+1)+
'" value="'+h[k].skinName+'" type="radio" /><span>'+h[k].title+"</span></label></div>"+(h[k].style?'<span class="g_hf-icon skinlib-new"></span>':"")+"</li>"):e+='<li class="skinlib-item js_sitem'+(a+1)+"_"+(k+1)+'"><div class="sitem-bg"></div><div class="sitem"><img action="check|'+(a+1)+"_"+(k+1)+'" src="'+h[k].bg_thumb+'" /><label for="js_skin-checkbox'+(a+1)+"_"+(k+1)+'"><input id="js_skin-checkbox'+(a+1)+"_"+(k+1)+'" name="recommand'+(a+1)+"_"+(k+1)+'" action="check|'+(a+1)+"_"+(k+1)+'" value="'+
h[k].skinName+'" type="radio" /><span>'+h[k].title+"</span></label></div>"+(h[k].style?'<span class="g_hf-icon skinlib-new"></span>':"")+"</li>";f=d[a].classEnName==b.defaultColumn?f+('<ul class="js_skins'+(a+1)+' skinlib-items curskins">'+e+"</ul>"):f+('<ul class="js_skins'+(a+1)+' skinlib-items">'+e+"</ul>")}this.options.skinLibEl=$('<div id="skinLib" class="widget-skinlib" style="display:none;"><div class="w960px g_clr"><ul class="skinlib-title g_clr">'+g+'<li class="de_li"><a class="g_hf-icon delbtn" action="reset">\u6062\u590d\u9ed8\u8ba4</a></li></ul><div class="skinlib-content">'+
f+'</div><div class="skinlib-opt"><a class="g_hf-icon curbtn" action="submit">\u4fdd\u5b58</a> <a class="g_hf-icon btn" action="consel">\u53d6\u6d88</a><a href="http://hi.baidu.com/hao123/item/73cd6f3274a70f5b81f1a788" class="btn sl-tip" style="width:100px">\u65e0\u6cd5\u4fdd\u5b58\u76ae\u80a4\uff1f</a><div class="pages-box"><span class="js_page-info">1/5</span><a class="g_hf-icon btn2" action="prev-page">\u4e0a\u4e00\u9875</a><a class="g_hf-icon btn2" action="next-page">\u4e0b\u4e00\u9875</a></div></div></div></div>');
this.options.skinLibEl.insertBefore(this.options.beforeTargetEl);var l=this;l.options.skinLibEl.bind("click",function(a){a=$(a.target);if("radio"==a.attr("type")||a.attr("action"))a=a.attr("action")||a.val(),l.processByAction(a)});$(".sitem img",l.options.skinLibEl).hover(function(){var a=$(this).attr("action").split("|")[1],a=$(".js_sitem"+a,l.options.skinLibEl);a.hasClass("cur")||a.addClass("cur")},function(){var a=$(this).attr("action").split("|")[1],b=$(".js_sitem"+a,l.options.skinLibEl),a=$(".js_sitem"+
a+" input",l.options.skinLibEl);b.hasClass("cur")&&!a.attr("checked")&&b.removeClass("cur")});this.showSkinLib();this.options.initSkinLib=!0;this.options.pagesBoxEl=$(".pages-box",this.options.skinLibEl);this.options.skinLibContentEl=$(".skinlib-content",this.options.skinLibEl);this.options.pageInfoEl=$(".js_page-info",this.options.pagesBoxEl);this.setPageInfo(parseInt(this.options.curColumnClass))}},showSkinLib:function(){this.options.skinLibEl&&($.hao123.browser.ie&&8>parseInt($.hao123.browser.ie)?
this.options.skinLibEl.show():this.options.skinLibEl.is(":animated")||this.options.skinLibEl.slideDown(this.options.duration||1E3),this.options.skinLibIfShow=!0,this.options.moreEl.html("\u6536\u8d77"),this.options.moreEl.addClass("more-hover"))},hideSkinLib:function(){this.options.skinLibEl&&($.hao123.browser.ie&&8>parseInt($.hao123.browser.ie)?this.options.skinLibEl.hide():this.options.skinLibEl.is(":animated")||this.options.skinLibEl.slideUp(this.options.duration||1E3),this.options.skinLibIfShow=
!1,this.options.moreEl.html("\u6362\u80a4"),this.options.moreEl.removeClass("more-hover"))},toggleSkinLib:function(){this.options.skinLibEl&&(this.options.skinLibIfShow?this.hideSkinLib():this.showSkinLib())},changeColumn:function(a){a&&(this.options.lastColumnClass=this.options.curColumnClass,this.options.curColumnClass=a,this.options.curColumnClass!=this.options.lastColumnClass&&($(".js_skinclass"+this.options.lastColumnClass,this.options.skinLibEl).removeClass("cur"),$(".js_skinclass"+this.options.lastColumnClass,
this.options.skinLibEl).removeClass("curfirst"),"1"==a?$(".js_skinclass"+this.options.curColumnClass,this.options.skinLibEl).addClass("curfirst"):$(".js_skinclass"+this.options.curColumnClass,this.options.skinLibEl).addClass("cur"),$(".js_skins"+this.options.lastColumnClass,this.options.skinLibEl).removeClass("curskins"),$(".js_skins"+this.options.curColumnClass,this.options.skinLibEl).addClass("curskins")));this.setPageInfo(a)},storagePage:function(a,b){var d=1;0<b&&(d=Math.ceil(b/6));this.options.cachePages["page"+
a]={cur:1,total:parseInt(d),len:parseInt(b)}},setPageInfo:function(a){a=a||this.options.curColumnClass;a=this.options.cachePages["page"+(isNaN(parseInt(a))?1:a)];1>=a.total?this.options.pagesBoxEl.hide():(this.options.pageInfoEl.html(a.cur+"/"+a.total),this.options.pagesBoxEl.show())},nextPage:function(){var a=this.options.cachePages["page"+this.options.curColumnClass];a.cur+1>a.total||(this.options.cachePages["page"+this.options.curColumnClass].cur=a.cur+1,this.loadSkins(),this.setPageInfo())},prevPage:function(){var a=
this.options.cachePages["page"+this.options.curColumnClass];0>=a.cur-1||(this.options.cachePages["page"+this.options.curColumnClass].cur=a.cur-1,this.loadSkins(),this.setPageInfo())},loadSkins:function(){for(var a=this.options.cachePages["page"+this.options.curColumnClass],b=6*(a.cur-1),a=6*a.cur>a.len?a.len:6*a.cur,d="",c=this.options.cacheData.config.data[parseInt(this.options.curColumnClass)-1].skins,g=parseInt(this.options.curColumnClass)-1;b<a;b++)d=this.options.curSkin==c[b].skinName?d+('<li class="skinlib-item js_sitem'+
(g+1)+"_"+(b+1)+' cur"><div class="sitem-bg"></div><div class="sitem"><img action="check|'+(g+1)+"_"+(b+1)+'" src="'+c[b].bg_thumb+'" /><label for="js_skin-checkbox'+(g+1)+"_"+(b+1)+'"><input id="js_skin-checkbox'+(g+1)+"_"+(b+1)+'" checked="checked" name="recommand'+(g+1)+"_"+(b+1)+'" action="check|'+(g+1)+"_"+(b+1)+'" value="'+c[b].skinName+'" type="radio" /><span>'+c[b].title+"</span></label></div>"+(c[b].style?'<span class="g_hf-icon skinlib-new"></span>':"")+"</li>"):d+('<li class="skinlib-item js_sitem'+
(g+1)+"_"+(b+1)+'"><div class="sitem-bg"></div><div class="sitem"><img action="check|'+(g+1)+"_"+(b+1)+'" src="'+c[b].bg_thumb+'" /><label for="js_skin-checkbox'+(g+1)+"_"+(b+1)+'"><input id="js_skin-checkbox'+(g+1)+"_"+(b+1)+'" name="recommand'+(g+1)+"_"+(b+1)+'" action="check|'+(g+1)+"_"+(b+1)+'" value="'+c[b].skinName+'" type="radio" /><span>'+c[b].title+"</span></label></div>"+(c[b].style?'<span class="g_hf-icon skinlib-new"></span>':"")+"</li>");$(".js_skins"+this.options.curColumnClass).html(d);
var f=this;$(".sitem img",f.options.skinLibEl).hover(function(){var a=$(this).attr("action").split("|")[1],a=$(".js_sitem"+a,f.options.skinLibEl);a.hasClass("cur")||a.addClass("cur")},function(){var a=$(this).attr("action").split("|")[1],b=$(".js_sitem"+a,f.options.skinLibEl),a=$(".js_sitem"+a+" input",f.options.skinLibEl);b.hasClass("cur")&&!a.attr("checked")&&b.removeClass("cur")})},setSkinToCookie:function(){$.hao123.setProfile("skin",this.options.submitSkin)},saveSkin:function(){this.options.lastSubmitSkin=
this.options.submitSkin;this.options.submitSkin=this.options.curSkin;this.setSkinToCookie();this.hideSkinLib()},canselSkin:function(){this.options.lastSkin=this.options.curSkin;this.options.curSkin=this.options.submitSkin;this.selectedSkin();this.viewSkin();this.toggleSkinLib()},resetSkin:function(){this.options.lastSubmitSkin=this.options.submitSkin;this.options.submitSkin=this.options.defaultSkin;this.options.lastSkin=this.options.curSkin;this.options.curSkin=this.options.submitSkin;this.viewSkin();
this.setSkinToCookie();this.hideSkinLib()},getBaiduCookie:function(){var a="",a=!$.hao123.cookie("FLASHID")||32>$.hao123.cookie("FLASHID").length?$.hao123.cookie("BAIDUID"):$.hao123.cookie("FLASHID");return a.substr(0,32)},getRequestParamters:function(){return"key="+(new Date).getTime()+"&c="+this.getBaiduCookie()},hideTip:function(){this.options.tipEl.fadeOut()},selectedSkin:function(a){for(var a=a||this.options.curSkin,b=$("input[type=radio]",this.options.skinLibContentEl),d=b.length,c=null,g=0;g<
d;g++)c=$(b[g]),c.val()==a?(c.attr("checked",!0),c.parents("li.skinlib-item").addClass("cur")):(c.attr("checked",!1),c.parents("li.skinlib-item").removeClass("cur"))},viewSkin:function(a,b){a=a||this.options.curSkin;if(!(-1<a.indexOf("skin-color-")))try{var d=this.options.debug?"skinDebugCss":"skinCss",b=b||this.options.cacheData.resource[a][d]+"?d=8",d=null;0<$("#setSkin").length?(d=$("#setSkin"),d.attr("href",b)):(d=document.createElement("link"),d.setAttribute("type","text/css"),d.setAttribute("rel",
"stylesheet"),d.setAttribute("href",b),d.setAttribute("media","all"),d.id="setSkin",$("head").append($(d)))}catch(c){}this.options.bodyEl.attr("class",a)}})})();
$.widget("hao123.calendar",{options:{serverTime:0,intervalDelay:3E4,url:"http://www.hao123.com/images/timer.gif",tpl:"#{m}\u6708#{d}\u65e5 \u661f\u671f#{W}\uff08\u519c\u5386#{CM}#{CD}\uff09 <span>#{hh}:#{mm}</span>",tpl1:"#{m}\u6708#{d}\u65e5 \u661f\u671f#{W}\uff08#{so}\uff09 <span>#{hh}:#{mm}</span>",tpl2:"#{m}\u6708#{d}\u65e5 \u661f\u671f#{W}\uff08#{cf}\uff09 <span>#{hh}:#{mm}</span>",tpl3:"#{m}\u6708#{d}\u65e5 \u661f\u671f#{W}\uff08#{gf}\uff09 <span>#{hh}:#{mm}</span>"},_create:function(){var a=this;a.options.serverTime=
+new Date;a.correction=0;a.render();var b=+new Date,d=b;$.ajax({cache:!1,url:a.options.url,type:"GET",complete:function(c){d=+new Date;c=c.getResponseHeader("Date")?(new Date(c.getResponseHeader("Date"))).getTime()+(d-b):a.options.serverTime+(d-b);a.options.serverTime=c;a.correction=a.options.serverTime-d;a.render()}});a.intervalID=setInterval(function(){a._check()},a.options.intervalDelay)},_check:function(){var a=this,b=+new Date;if(Math.abs(b+a.correction-a.options.serverTime)>a.options.intervalDelay+
3E4){var d=+new Date,c=d;$.ajax({cache:!1,url:a.options.url,type:"GET",complete:function(b){c=+new Date;b=b.getResponseHeader("Date")?(new Date(b.getResponseHeader("Date"))).getTime()+(c-d):a.options.serverTime+(c-d);a.options.serverTime=b;a.correction=a.options.serverTime-c;a.render()}})}else a.options.serverTime=b+a.correction,a.render()},destroy:function(){clearInterval(me.intervalID);$.Widget.prototype.destroy.call(this)},getDate:function(a){a=a||new Date;return{y:a.getFullYear(),m:a.getMonth()+
1,d:a.getDate()}},format:function(a){var b=this.getDate(a),d=this.options.tpl,b=$.hao123.date(b.y,b.m,b.d);b.hh=this.pad(a.getHours(),2);b.mm=this.pad(a.getMinutes(),2);b.ss=this.pad(a.getSeconds(),2);d=b.so?this.options.tpl1:b.cf?this.options.tpl2:b.gf?2012==b.y&11==b.m&&28==b.d?this.options.tpl:this.options.tpl3:this.options.tpl;return this.formatStr(d,b)},render:function(a){var a=this.format(new Date(a||this.options.serverTime)||new Date),b=this.element.html();a!=b&&this.element.html(a)},pad:function(a,
b){var d="",c=0>a,g=""+Math.abs(a);g.length<b&&(d=Array(b-g.length+1).join("0"));return(c?"-":"")+d+g},formatStr:function(a,b){return $.hao123.format(a,b)}});
$.widget("hao123.page",{options:{type:"",helpurl:"http://www.6164.com/desk/",shell:{"360se":"02",maxthon:"03",se:"04",qqbrowser:"05",tencenttraveler:"06",theworld:"10",greenbrowser:"12",lbbrowser:"16"},browser:{firefox:"ff",chrome:"08",opera:"09",safari:"11",msie:"01"}},_create:function(){var a=this;a.element.bind("click",function(b){b.preventDefault();a._action()})},_action:function(){var a=window;switch(this.options.type){case "refresh":a.location.reload();break;case "none":break;
default:this.setHome()}},setHome:function(){var a=window,b=this.options,d=this.element.get(0),c=b.helpurl,g=b.shell,b=b.browser;if($.hao123.browser.isShell)return a.open(c+"#"+g[$.hao123.browser.shell[0]]),!1;if(!$.hao123.browser.ie&&$.hao123.browser.types[0]||"open"==this.options.type)return a.open(c+"#"+b[$.hao123.browser.types[0]]),!1;if($.hao123.browser.ie)try{var f=f||d.href||window.location;d.style.behavior="url(#default#homepage)";d.setHomePage(f)}catch(h){a.open(c+"#"+b[$.hao123.browser.types[0]])}}});
(function(){function a(a){var d;d=a?'\u60a8\u597d\uff0c<span class="username">#{username}</span><a href="http://www.hao123.com/url/logout?gotourl=#{gotourl}" class="loginout" target="_self">\u9000\u51fa</a>':'\u7528\u6237\u60a8\u597d\uff0c<a href="http://www.hao123.com/url/logout?gotourl=#{gotourl}" class="loginout" target="_self">\u9000\u51fa</a>';$("#userBar .user").html($.hao123.format(d,{username:a,gotourl:window.gotourl})).show()}hao.userbar=function(b,d){jQuery.ajax({type:"get",url:"js/date.js",
success:function(){1==d?$("#calendar").calendar({serverTime:(new Date).getTime()}):$("#calendar").calendar()},dataType:"script",cache:!0});$("#userBar .js_setHome").page();$("#userBar .js_setFavorite").favorite();HLogin.loginModel.addEventListener("signin",function(b){b.isInit||a(b.userName)});HLogin.loginModel.addEventListener("otherSignin",function(b){a(b.userName)});1==d?$(".widget-selfhood").skin({debug:b,isStatic:1}):$(".widget-selfhood").skin({debug:b});1==d?$(".widget-selfhood").skin({debug:b,
isStatic:1}):$(".widget-selfhood").skin({debug:b});1==d&&($("#userBar .user").hide(),$("#userBar .gxxz").get(0).style.borderLeft="none");$("#mypan").pan()}})();
